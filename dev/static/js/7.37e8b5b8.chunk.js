(this["webpackJsonpfertilizer-calculator"]=this["webpackJsonpfertilizer-calculator"]||[]).push([[7],{246:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var a=t(5),r=t(87),c=t(0),l=t.n(c),o=t(17),i=t(93),u=Object(c.forwardRef)((function(e,n){var t,u=e.component,m=e.size,d=void 0===m?"1.5em":m,f=e.children,s=Object(r.a)(e,["component","size","children"]),b=Object(c.useState)(d||0),p=Object(a.a)(b,2),E=p[0],g=p[1],v=Object(i.a)();return Object(c.useEffect)((function(){var e;!d&&n&&"current"in n&&g((null===(e=n.current)||void 0===e?void 0:e.offsetWidth)||0)}),[n,g,d]),l.a.createElement(o.b,Object.assign({type:"button"},s,{ref:n}),l.a.createElement(u,{color:null===(t=v.colors)||void 0===t?void 0:t.background,size:E}),f)}))},248:function(e,n,t){"use strict";function a(e){return e&&parseInt(e)}function r(e){return e&&parseFloat(e)}t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return r}))},250:function(e,n,t){"use strict";t.d(n,"b",(function(){return d})),t.d(n,"a",(function(){return s}));var a=t(87),r=t(59),c=t(0),l=t.n(c),o=t(145),i=t(244),u=t(62);function m(){var e=Object(r.a)(["\n  ::-webkit-inner-spin-button, ::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n  -moz-appearance: textfield;\n\n"]);return m=function(){return e},e}var d=Object(u.b)(i.b)(m()),f=function(e){var n=e.input,t=e.label,r=e.type,c=void 0===r?"text":r,o=Object(a.a)(e,["input","label","type"]);return l.a.createElement(d,Object.assign({},o,n,{type:c,lang:"en-US",placeholder:t}))},s=function(e){var n=e.name,t=Object(a.a)(e,["name"]);return l.a.createElement(o.a,Object.assign({component:f,name:n},t))}},254:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return u}));var a=t(0),r=t(86),c=t(121),l=t(107),o=t(43);function i(){return Object(a.useContext)(c.a).form}function u(e){var n=Object(r.c)();return[Object(r.d)((function(n){return Object(l.a)(e)(n)})),function(t,a){n(Object(o.a)(e,t,a))}]}},258:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return f}));var a=t(0),r=t.n(a),c=t(17),l=t(90),o=t(44),i=t(20),u=t(246),m=t(2),d=function(e){var n=e.name,t=e.value,a=e.delta;return r.a.createElement(c.a,{bg:n,flex:1,mx:"2px",px:1,color:"black",minWidth:"2.1em",maxWidth:"3em",fontSize:1},r.a.createElement(c.d,{flexDirection:"column",alignItems:"center"},r.a.createElement(c.a,null,n),r.a.createElement(c.a,null,Object(m.e)(t,1)),"undefined"!==typeof a?r.a.createElement(c.a,null,a):null))},f=function(e){var n=e.item,t=e.onRemove,a=e.weight,m=Object(o.b)(n,!1);return r.a.createElement(c.c,{width:"auto"},r.a.createElement(c.d,{justifyContent:"space-between",alignItems:"center"},r.a.createElement(c.a,{flex:1},r.a.createElement(c.f,{flex:1},n.id),r.a.createElement(c.d,null,i.b.map((function(e){var n=m.elements[e];return n?r.a.createElement(d,{name:e,key:e,value:n}):null})))),r.a.createElement(c.d,null,r.a.createElement(c.d,{alignItems:"center",justifyContent:"center",margin:1},a?r.a.createElement(c.f,{textAlign:"center",minWidth:"3em"},a.weight,"\u0433",a.volume?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("span",{title:"\u041e\u0431\u044a\u0435\u043c \u0438\u043b\u0438 \u0432\u0435\u0441 \u0440\u0430\u0441\u0442\u0432\u043e\u0440\u0430"},a.volume&&"".concat(a.volume," \u043c\u043b").concat(a.liquid_weight?", ".concat(a.liquid_weight,"\u0433"):""))):null):null),r.a.createElement(u.a,{padding:1,alignSelf:"center",component:l.a,onClick:function(){return t()}}))))}},262:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var a=t(87),r=t(0),c=t.n(r),l=t(244),o=t(145),i=function(e){var n=e.input,t=e.label,r=Object(a.a)(e,["input","label"]);return c.a.createElement(l.c,null,c.a.createElement(l.a,Object.assign({},r,n,{checked:n.value})),t)},u=function(e){var n=e.name,t=Object(a.a)(e,["name"]);return c.a.createElement(o.a,Object.assign({component:i,name:n},t))}},265:function(e,n,t){"use strict";t.d(n,"a",(function(){return g}));var a=t(5),r=t(0),c=t.n(r),l=t(59),o=t(46),i=t.n(o),u=t(17),m=t(42),d=t(94);function f(){var e=Object(l.a)(["\n  overflow-y: auto;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: ",";\n  left: 0;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(255, 255, 255, 0.5);\n  z-index: 999;\n  \n  // Mobile\n  @media screen and (max-height: 500px), screen and (max-width: 500px) {\n    align-items: initial;\n  }\n"]);return f=function(){return e},e}var s=Object(m.default)(u.d)(f(),(function(){return"".concat(window.pageYOffset,"px")}));function b(e){var n=e.children,t=function(){var e=document.querySelector("#modal-root");return e||((e=document.createElement("div")).setAttribute("id","modal-root"),document.body.appendChild(e)),e}();return i.a.createPortal(c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,null,c.a.createElement("style",{type:"text/css"},"\n          body {\n            overflow: hidden;\n          }\n        ")),c.a.createElement(s,null,c.a.createElement(u.c,{backgroundColor:"#fff",height:"max-content"},n))),t)}var p=t(78),E=t(90);function g(e){var n=e.opened,t=void 0!==n&&n,l=e.button,o=e.container,i=Object(r.useState)(!t),m=Object(a.a)(i,2),d=m[0],f=m[1];Object(r.useEffect)((function(){f(!t)}),[t]),Object(r.useEffect)((function(){d&&e.onClose&&e.onClose()}),[d,e]);var s={open:function(){return f(!1)},close:function(){return f(!0)}},g={modal:s};return c.a.createElement(c.a.Fragment,null,l&&l(g),d?null:c.a.createElement(b,null,c.a.createElement(u.d,{justifyContent:"space-between"},c.a.createElement(u.e,{fontSize:2},e.title),c.a.createElement(p.a,{component:E.a,onClick:s.close})),c.a.createElement(u.a,null,o(g))))}},485:function(e,n,t){"use strict";t.r(n),t.d(n,"FertilizerManager",(function(){return R}));var a=t(5),r=t(0),c=t.n(r),l=t(86),o=t(17),i=t(479),u=t(44),m=t(20),d=t(246),f=t(482),s=t(483),b=t(258),p=t(143),E=t(146),g=t(144),v=t(250),j=t(248),O=function(e){var n=e.name,t=e.disabled;return c.a.createElement(o.d,{flexDirection:"column",justifyContent:"center",alignItems:"center",width:"4rem"},c.a.createElement("label",{style:{textAlign:"center"}},n),c.a.createElement(v.a,{name:"npk."+n,type:"number",step:"0.1",min:"0",max:"100",autoComplete:"off",width:"3rem",style:{textAlign:"center"},normalize:j.a,disabled:t}))},y=t(56),x=t(262),h=function(e){var n=e.fields;return c.a.createElement(o.c,{width:"100%"},c.a.createElement(o.d,null,c.a.createElement("button",{type:"button",onClick:function(){return n.push({formula:"",percent:98})}},"+")),c.a.createElement(o.d,{flexDirection:"column"},n.map((function(e,t){return c.a.createElement(o.d,{key:t,width:"100%"},c.a.createElement(v.a,{name:"".concat(e,".formula"),flex:2}),c.a.createElement(v.a,{name:"".concat(e,".percent"),type:"number",step:"0.1",min:"0",max:"100",normalize:j.a,flex:1}),c.a.createElement("button",{type:"button",onClick:function(){return n.remove(t)}},"-"))}))))},k=t(254),w=t(244);function _(e){var n={id:e.id,npk:e.npk,composition:e.composition};return e.composition&&(n.npk=Object(u.b)(e,!1).elements,n.composition_enable=!0),e.solution_concentration&&(n.solution_concentration=e.solution_concentration,n.solution_density=e.solution_density||1e3,n.solution_density_enable=!0),n}function C(e){var n={id:e.id,name:e.name};return e.composition_enable?n.composition=e.composition:n.npk=e.npk,e.solution_density_enable&&(n.solution_density=e.solution_density,n.solution_concentration=e.solution_concentration),n}var z=Object(g.a)({form:y.a,enableReinitialize:!0})((function(e){var n=Object(k.b)(Object(k.a)())[0];return c.a.createElement(p.a,null,c.a.createElement(o.d,{flexDirection:"column"},c.a.createElement(v.a,{name:"id",title:"Name",label:"Name"}),c.a.createElement(o.a,null,"\u041c\u0430\u043a\u0440\u043e\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b"),c.a.createElement(o.d,null,m.d.map((function(e){return c.a.createElement(O,{name:e,disabled:n.composition_enable})}))),c.a.createElement(o.a,null,"\u041c\u0438\u043a\u0440\u043e\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b"),c.a.createElement(o.d,null,m.e.map((function(e){return c.a.createElement(O,{name:e,disabled:n.composition_enable})}))),c.a.createElement(o.d,null,c.a.createElement(x.a,{name:"composition_enable",label:"\u0424\u043e\u0440\u043c\u0443\u043b\u0430"})),n.composition_enable?c.a.createElement(o.d,null,c.a.createElement(E.a,{name:"composition",component:h})):null,c.a.createElement(o.d,{alignItems:"center"},c.a.createElement(o.a,{width:"auto",marginRight:2},c.a.createElement(x.a,{name:"solution_density_enable",label:"\u0420\u0430\u0441\u0442\u0432\u043e\u0440"})),n.solution_density_enable?c.a.createElement(o.d,{flexDirection:"column"},c.a.createElement(o.d,{alignItems:"flex-end"},c.a.createElement(w.c,{flexDirection:"column"},"\u041a\u043e\u043d\u0446\u0435\u043d\u0442\u0440\u0430\u0446\u0438\u044f",c.a.createElement(v.a,{name:"solution_concentration",type:"number",step:"0.1",min:"0",max:"3000",normalize:j.a,width:"5em",marginRight:2}),c.a.createElement(o.f,{sx:{whiteSpace:"nowrap"}},"\u0433/\u043b"))),c.a.createElement(o.d,{alignItems:"flex-end"},c.a.createElement(w.c,{flexDirection:"column"},"\u041f\u043b\u043e\u0442\u043d\u043e\u0441\u0442\u044c",c.a.createElement(v.a,{name:"solution_density",type:"number",step:"1",min:"800",max:"3000",normalize:j.b,width:"5em",marginRight:2})),c.a.createElement(o.f,{sx:{whiteSpace:"nowrap"}},"\u0433/\u043b"))):null)))})),S=t(265),I=t(63);function D(e){var n=e.fertilizer,t=Object(u.b)(n,!1),r=Object(k.b)(y.a),i=Object(a.a)(r,1)[0],p=Object(l.c)();return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.c,{width:"auto",marginBottom:2},c.a.createElement(o.d,{justifyContent:"space-between",alignItems:"center"},c.a.createElement(o.a,{flex:1},c.a.createElement(o.f,{flex:1},n.id," ",n.solution_concentration&&"[\u0436\u0438\u0434\u043a\u0438\u0439 ".concat(n.solution_concentration," \u0433/\u043b]")),c.a.createElement(o.d,null,m.b.map((function(e){var n=t.elements[e];return n?c.a.createElement(b.a,{name:e,key:e,value:n}):null})))),c.a.createElement(o.d,null,c.a.createElement(S.a,{button:function(e){var n=e.modal;return c.a.createElement(d.a,{padding:1,alignSelf:"center",component:f.a,backgroundColor:"primary",onClick:n.open})},container:function(e){var t=e.modal;return c.a.createElement(c.a.Fragment,null,c.a.createElement(z,{initialValues:_(n)}),c.a.createElement(o.d,{justifyContent:"flex-end"},c.a.createElement(o.b,{type:"button",onClick:function(){return function(e){p(Object(I.d)(C(i))),e.close()}(t)}},"Save")))}}),c.a.createElement(d.a,{padding:1,alignSelf:"center",component:s.a,backgroundColor:"danger",onClick:function(){p(Object(I.e)(n))}})))))}var F=t(295);function R(e){var n=Object(l.d)((function(e){return e.calculator})).fertilizers,t=Object(k.b)(y.a),r=Object(a.a)(t,1)[0],u=Object(l.c)();return c.a.createElement(o.d,{flexDirection:"column"},c.a.createElement(o.d,null,c.a.createElement(S.a,{button:function(e){var n=e.modal;return c.a.createElement(d.a,{padding:1,alignSelf:"center",component:F.a,backgroundColor:"primary",onClick:n.open})},container:function(e){var n=e.modal;return c.a.createElement(c.a.Fragment,null,c.a.createElement(z,{initialValues:_({id:""})}),c.a.createElement(o.d,{justifyContent:"flex-end"},c.a.createElement(o.b,{type:"button",onClick:function(){return function(e){u(Object(I.d)(C(r))),e.close()}(n)}},"Save")))}})),c.a.createElement(i.ReactSortable,{list:n,setList:function(e){return u(Object(I.g)(e))}},n.map((function(e){return c.a.createElement(D,{fertilizer:e,key:e.id})}))))}n.default=R}}]);
//# sourceMappingURL=7.37e8b5b8.chunk.js.map