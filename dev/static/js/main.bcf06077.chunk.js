(this["webpackJsonpfertilizer-calculator"]=this["webpackJsonpfertilizer-calculator"]||[]).push([[1],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return b}));var r=n(13),a=n(5),c=n(10),o=n(22),i=n(3),u=n(20),l=n(27),f=["N"].concat(Object(o.a)(u.d));function s(e){var t,n={},r=Object(c.a)(Object(i.b)(e));try{for(r.s();!(t=r.n()).done;){var o=Object(a.a)(t.value,2),u=o[0],l=o[1];f.includes(u)&&(n[u]=l)}}catch(s){r.e(s)}finally{r.f()}return n.N=(e.NH4||0)+(e.NO3||0),Object.fromEntries(Object(i.b)(n).map((function(e){var t=Object(a.a)(e,2),r=t[0],c=t[1];return[r,Object.fromEntries(Object(i.b)(n).map((function(e){var t=Object(a.a)(e,2),n=t[0],o=t[1],u=Object(i.e)(c/o,3);return isFinite(u)||(u=0),[n,r===n?1:u]})))]})))}function d(e,t){var n,o=Object(r.a)({},e),u=(o.NO3||0)+(o.NH4||0),f=s(e),d=Object(c.a)(Object(i.b)(t));try{for(d.s();!(n=d.n()).done;){var b,O=Object(a.a)(n.value,2),m=O[0],p=O[1],v=Object(c.a)(Object(i.b)(p));try{for(v.s();!(b=v.n()).done;){var j=Object(a.a)(b.value,2),h=j[0],g=j[1];if(m!==h){if("N"===m){var N=function(e,t){return e*t}(o[h]||0,g);o.NH4=Object(l.c)(N,f.NH4.NO3),o.NO3=N-o.NH4}else{var E=o[h]||0;"N"===h&&(E=u),o[m]=E*g}}}}catch(w){v.e(w)}finally{v.f()}}}catch(w){d.e(w)}finally{d.f()}return Object.fromEntries(Object(i.b)(o).map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return[n,Object(i.e)(r,1)]})))}function b(e,t){var n=s(e),c=n.K.Mg*n.K.Ca/(n.K.Ca*n.K.N+n.K.Mg*n.K.N+n.K.Mg*n.K.Ca+n.K.Mg*n.K.Ca*n.K.N),o=n.K.N*n.K.Mg*n.K.Ca/(n.K.Ca*n.K.N+n.K.Mg*n.K.N+n.K.Mg*n.K.Ca+n.K.Mg*n.K.Ca*n.K.N),f=n.K.Mg*n.K.N/(n.K.Ca*n.K.N+n.K.Mg*n.K.N+n.K.Mg*n.K.Ca+n.K.Mg*n.K.Ca*n.K.N),d=n.K.Ca*n.K.N/(n.K.Ca*n.K.N+n.K.Mg*n.K.N+n.K.Mg*n.K.Ca+n.K.Mg*n.K.Ca*n.K.N),b=(e.NH4||0)/((e.NH4||0)+(e.NO3||0)),O=c*b/(1+b),m=u.a.N,p=u.a.K,v=u.a.Ca,j=u.a.Mg,h=.10526315789473684*m*v*j*p*(100*t-19)/(O*v*j*p+2*f*m*j*p+2*d*m*v*p+o*m*v*j),g=c*h,N=Object(l.c)(g,n.NH4.NO3),E=Object(r.a)({},e,{NH4:N,NO3:g-N,K:o*h,Ca:f*h,Mg:d*h});return Object.fromEntries(Object(i.b)(E).map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return[n,Object(i.e)(r,1)]})))}},12:function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"l",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return O}));var r="calculatorOptions",a="STORE_CALCULATE_FORM",c="CALCULATE_START",o="CALCULATE_SUCCESS",i="CALCULATE_ERROR",u="FERTILIZERS_PUSH",l="FERTILIZERS_REMOVE",f="FERTILIZERS_SET",s="FERTILIZERS_RESET",d="RECIPE_PUSH",b="RECIPE_REMOVE",O="RECIPE_RESET"},170:function(e,t,n){e.exports=n(241)},178:function(e,t,n){},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));var r={H:1.008,He:4.0026022,Li:6.94,Be:9.01218315,B:10.81,C:12.011,N:14.007,O:15.999,F:18.9984031636,Ne:20.17976,Na:22.989769282,Mg:24.305,Al:26.98153857,Si:28.085,P:30.9737619985,S:32.06,Cl:35.45,K:39.09831,Ar:39.9481,Ca:40.0784,Sc:44.9559085,Ti:47.8671,V:50.94151,Cr:51.99616,Mn:54.9380443,Fe:55.8452,Ni:58.69344,Co:58.9331944,Cu:63.5463,Zn:65.382,Ga:69.7231,Ge:72.6308,As:74.9215956,Se:78.9718,Br:79.904,Kr:83.7982,Rb:85.46783,Sr:87.621,Y:88.905842,Zr:91.2242,Nb:92.906372,Mo:95.951,Tc:98,Ru:101.072,Rh:102.905502,Pd:106.421,Ag:107.86822,Cd:112.4144,In:114.8181,Sn:118.7107,Sb:121.7601,I:126.904473,Te:127.603,Xe:131.2936,Cs:132.905451966,Ba:137.3277,La:138.905477,Ce:140.1161,Pr:140.907662,Nd:144.2423,Pm:145,Sm:150.362,Eu:151.9641,Gd:157.253,Tb:158.925352,Dy:162.5001,Ho:164.930332,Er:167.2593,Tm:168.934222,Yb:173.0451,Lu:174.96681,Hf:178.492,Ta:180.947882,W:183.841,Re:186.2071,Os:190.233,Ir:192.2173,Pt:195.0849,Au:196.9665695,Hg:200.5923,Tl:204.38,Pb:207.21,Bi:208.980401,Po:209,At:210,Rn:222,Fr:223,Ra:226,Ac:227,Pa:231.035882,Th:232.03774,Np:237,U:238.028913,Am:243,Pu:244,Cm:247,Bk:247,Cf:251,Es:252,Fm:257,Md:258,No:259,Lr:266,Rf:267,Db:268,Sg:269,Hs:269,Bh:270,Mt:278,Ds:281,Rg:282,Cn:285,Nh:286,Fl:289,Mc:289,Lv:293,Ts:294,Og:294,Uue:315},a=["NO3","NH4","P","K","Ca","Mg","S","Cl"],c=["Fe","Mn","B","Zn","Cu","Mo","Co","Si"],o=[].concat(a,c),i={NO3:-1/r.N,NH4:1/r.N,P:-1/r.P,K:1/r.K,Ca:2/r.Ca,Mg:2/r.Mg,S:-2/r.S,Cl:-1/r.Cl,Na:1/r.Na}},241:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(46),o=n.n(c),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function u(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var l=n(86),f=n(64),s=n(16),d=n(243),b=n(50),O={App:Object(b.a)((function(){return n.e(10).then(n.bind(null,486))})),NotFound:function(){return a.a.createElement("h1",null,"Not found")},Help:Object(b.a)((function(){return Promise.all([n.e(4),n.e(13)]).then(n.bind(null,492))})),Calculator:Object(b.a)((function(){return n.e(12).then(n.bind(null,487))})),ChemFormula:Object(b.a)((function(){return n.e(11).then(n.bind(null,488))})),Example:Object(b.a)((function(){return n.e(9).then(n.bind(null,489))}))},m=n(17),p=n(13),v=n(242),j=Object(p.a)({},v.polaris,{colors:Object(p.a)({},v.polaris.colors,{NO3:"#05AD11",NH4:"#FFF",P:"#DBC403",K:"#E07206",Ca:"#D1C7C7",Mg:"#AB0AE0",S:"#FFF",modes:{dark:Object(p.a)({},v.polaris.colors.modes.dark,{text:"#9d9d9d"})}}),card:{boxShadow:"small",p:2},styles:Object(p.a)({},v.polaris.styles,{button:{color:"background"}}),shadows:{small:"0 0 4px rgba(0, 0, 0, .125)",large:"0 0 24px rgba(0, 0, 0, .125)"}});console.log(j);var h=n(59);function g(){var e=Object(h.a)(['\n&>a {\n    background: #000;\n    color: #fff;\n    text-decoration: none;\n    font-family: arial, sans-serif;\n    text-align: center;\n    font-weight: bold;\n    padding: 5px 40px;\n    font-size: 1rem;\n    line-height: 2rem;\n    position: relative;\n    transition: 0.5s;\n}\n\n&>a:hover {\n    background: #c11;\n    color: #fff;\n}\n\n&>a::before, &>a::after {\n    content: "";\n    width: 100%;\n    display: block;\n    position: absolute;\n    top: 1px;\n    left: 0;\n    height: 1px;\n    background: #fff;\n}\n\n&>a::after {\n    bottom: 1px;\n    top: auto;\n}\n\n@media screen and (min-width: 800px) {\n    & {\n        position: absolute;\n        display: block;\n        top: 0;\n        right: 0;\n        width: 200px;\n        overflow: hidden;\n        height: 200px;\n        z-index: 100;\n    }\n\n    &>a {\n        // width: 200px;\n        position: absolute;\n        top: 40px;\n        right: -50px;\n        transform: rotate(45deg);\n        box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.8);\n    }\n}\n']);return g=function(){return e},e}var N=n(62).b.span(g()),E=function(){return a.a.createElement(N,null,a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/Apkawa/react-fertilizer-calculator"},"Fork me on GitHub"))},w=n(52),C=n(5),y=n(78),x=n(112),S=n(90),K=n(42),k=n(94);function M(){var e=Object(h.a)(["\n  overflow-y: auto;\n  position: absolute;\n  height: 100%;\n  top: 0;\n  left: 0;\n  justify-content: left;\n  align-items: stretch;\n  z-index: 999;\n  width: fit-content;\n  \n  //// Mobile\n  //@media screen and (max-height: 500px), screen and (max-width: 500px) {\n  //  align-items: initial;\n  //}\n  ","\n"]);return M=function(){return e},e}var H=Object(K.default)(m.d)(M(),(function(e){return e.docked?"":"\n    top: ".concat((function(){return"".concat(window.pageYOffset,"px")}),";\n    width: 100%;\n    background-color: rgba(255, 255, 255, 0.5);\n  ")}));function P(e){var t=e.children,n=e.actions,r=e.docked,c=function(){var e=document.querySelector("#sidebar-root");return e||((e=document.createElement("div")).setAttribute("id","sidebar-root"),document.body.appendChild(e)),e}();return o.a.createPortal(a.a.createElement(a.a.Fragment,null,a.a.createElement(k.a,null,a.a.createElement("style",{type:"text/css"},!r&&"\n          body {\n            overflow: hidden;\n          }\n        ")),a.a.createElement(H,{docked:r,onClick:function(){r||n.close()}},a.a.createElement(m.c,{backgroundColor:"#fff",height:"100vh",width:"300px",marginRight:2},t))),c)}function R(){return{width:window.innerWidth,height:window.innerHeight}}function _(e){var t=e.opened,n=void 0===t?Boolean(e.docked):t,c=e.button,o=Object(r.useState)(!n),i=Object(C.a)(o,2),u=i[0],l=i[1],f=function(){var e=Object(r.useState)(R()),t=Object(C.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){function e(){a(R)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),s=Object(r.useState)(e.docked||f.width>1024),d=Object(C.a)(s,2),b=d[0],O=d[1];Object(r.useEffect)((function(){var t=e.docked||f.width>1650;O(t),t&&u&&l(!1)}),[f,u,e.docked]),Object(r.useEffect)((function(){l(!n)}),[n]),Object(r.useEffect)((function(){u&&e.onClose&&e.onClose()}),[u,e]);var p={open:function(){return l(!1)},close:function(){return l(!0)}},v={modal:p};return a.a.createElement(a.a.Fragment,null,c?c(v):a.a.createElement(y.a,{size:42,component:x.a,onClick:p.open}),u?null:a.a.createElement(P,{actions:p,docked:b},a.a.createElement(m.d,{justifyContent:"space-between"},b?null:a.a.createElement(y.a,{size:42,component:S.a,onClick:p.close}),a.a.createElement(m.e,{fontSize:2},e.title)),a.a.createElement(m.a,null,e.children)))}var A=n(113),z=n(115),T=n(116),F=function(){var e=Object(A.b)(),t=Object(C.a)(e,2),n=t[0],r=t[1],c="default"===n?z.a:T.a;return a.a.createElement(c,{onClick:function(){r("default"===n?"dark":"default")},size:42,color:"text"})};n(178);function L(e){return a.a.createElement(_,null,a.a.createElement(w.b,{startPathWith:"",tabClassName:"tab-link",activeTabClassName:"active"},a.a.createElement(m.d,{flexDirection:"column"},a.a.createElement(w.a,{exact:!0,to:"/"},"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440"),a.a.createElement(w.a,{to:"/fertilizers"},"\u0423\u0434\u043e\u0431\u0440\u0435\u043d\u0438\u044f"),a.a.createElement(w.a,{to:"/formula/"},"\u041f\u0430\u0440\u0441\u0435\u0440 \u0444\u043e\u0440\u043c\u0443\u043b"),a.a.createElement(w.a,{to:"/help"},"\u0421\u043f\u0440\u0430\u0432\u043a\u0430"))),a.a.createElement(F,null))}var I=function(e){var t=e.store;return a.a.createElement(l.a,{store:t},a.a.createElement(d.a,{theme:j},a.a.createElement(f.a,null,a.a.createElement(m.d,{justifyContent:"space-between"},a.a.createElement(m.a,{padding:1},a.a.createElement(L,null)),a.a.createElement(E,null)),a.a.createElement(m.d,{flexDirection:"column",margin:2},a.a.createElement(m.a,{flex:1},a.a.createElement(m.d,{sx:{justifyContent:"center"}},a.a.createElement(m.a,{width:"936px"},a.a.createElement(s.c,null,a.a.createElement(s.a,{path:["/formula/:formula?/:percent?"],component:O.ChemFormula}),a.a.createElement(s.a,{path:"/example",component:O.Example}),a.a.createElement(s.a,{path:"/help",component:O.Help}),a.a.createElement(s.a,{path:"/",component:O.Calculator}),a.a.createElement(s.a,{path:"*",component:O.NotFound}))))),a.a.createElement(m.d,{justifyContent:"flex-end",marginTop:"auto",flex:1},a.a.createElement(m.f,{fontSize:1},"0.0.10","-","dev, origin/dev"," ","7125e17"," [","2020-11-15T17:37:56+03:00","]"))))))},B=n(31),U=n(119),J=n(7),D=n.n(J),W=n(14),Z=n(107),Y=n(43),G=n(2),V=n(12),X=n(63),q=n(22),$=n(10),Q=n(118),ee=D.a.mark(te);function te(e){var t,n,r;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=Object($.a)(new Q.a(e)),a.prev=1,t.s();case 3:if((n=t.n()).done){a.next=9;break}return r=n.value,a.next=7,r;case 7:a.next=3;break;case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),t.e(a.t0);case 14:return a.prev=14,t.f(),a.finish(14);case 17:case"end":return a.stop()}}),ee,null,[[1,11,14,17]])}var ne=n(3),re=n(20),ae=n(27),ce=n(44);function oe(e,t){var n=Object(ne.b)(e).map((function(e){var n=Object(C.a)(e,2),r=n[0],a=n[1],c=t[r],o=100;return 0!==c?o=c<a?a/c:c/a:c===a&&(o=1),[r,o]}));return Object.fromEntries(n)}function ie(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null,c=(new Date).getTime(),o=0,i=Object($.a)(te(t));try{for(i.s();!(n=i.n()).done;){var u=n.value,l=le(e,u,r);a?(a.score<l.score&&(a=l),o+=1):a=l}}catch(f){i.e(f)}finally{i.f()}return a&&(a.stats.count=o,a.stats.time=((new Date).getTime()-c)/1e3),a}var ue={NH4:1e3,B:1e3};function le(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r||{},c=a.accuracy,o=void 0===c?.1:c,i=a.ignore,u=void 0===i?{}:i,l=a.solution_volume,f=void 0===l?1:l,s=a.solution_concentration,d=void 0===s?1:s,b=a.prevElements,O=void 0===b?Object(ae.d)():b,m=Object(ne.a)(o),v=Object(ae.d)(),j=Object($.a)(Object(ne.d)(v));try{for(j.s();!(n=j.n()).done;){var h=n.value;u[h]&&(v[h]=1),"undefined"==typeof e[h]&&(v[h]=1)}}catch(fe){j.e(fe)}finally{j.f()}var g,N=Object.fromEntries(t.map((function(e){return[e.id,e]}))),E=t.map((function(e){return Object(ce.b)(e)})),w=Object.fromEntries(t.map((function(e){return[e.id,{id:e.id,weight:0,base_weight:0,volume:null}]}))),y=Object(p.a)({},e),x=O,S=Object($.a)(E);try{for(S.s();!(g=S.n()).done;){var K,k,M=g.value,H=Object(ne.b)(M.elements).filter((function(e){return e[1]})).sort((function(e,t){return(y[e[0]]||0)/e[1]-(y[t[0]]||0)/t[1]})).sort((function(e,t){var n=Object(C.a)(e,1)[0],r=Object(C.a)(t,1)[0];return(ue[r]||0)-(ue[n]||0)})),P=null===(K=H.filter((function(t){var n=Object(C.a)(t,1)[0];return(y[n]||0)>0&&(e[n]||0)>0})))||void 0===K||null===(k=K[0])||void 0===k?void 0:k[0],R=1===H.filter((function(t){var n=Object(C.a)(t,1)[0];return(e[n]||0)<=0&&!v[n]})).length;if(P&&!R){var _=Object.fromEntries(H),A=(y[P]||0)/(10*_[P]),z=N[M.id];w[M.id].base_weight=Object(ne.e)(A,m>3?m:3),w[M.id].weight=Object(ne.e)(A*f*d,m),z.solution_concentration&&(w[M.id].volume=Object(ne.e)(1e3*w[M.id].weight/z.solution_concentration,m));var T=w[M.id].volume;z.solution_density&&T&&(w[M.id].liquid_weight=Object(ne.e)(T*(z.solution_density/1e3),m));var F,L=Object($.a)(H);try{for(L.s();!(F=L.n()).done;){var I=Object(C.a)(F.value,2),B=I[0],U=I[1],J=A*U*10,D=Object(ne.a)(e[B]||0);re.e.includes(B)&&(D=4),x[B]+=Object(ne.e)(J,D),y[B]=(y[B]||0)-J}}catch(fe){L.e(fe)}finally{L.f()}}}}catch(fe){S.e(fe)}finally{S.f()}var W,Z=oe(e,x),Y=Object($.a)(Object(ne.b)(v));try{for(Y.s();!(W=Y.n()).done;){var G=Object(C.a)(W.value,2),V=G[0],X=G[1];X&&(Z[V]=0)}}catch(fe){Y.e(fe)}finally{Y.f()}var q=Object(ne.f)(Object.values(Z)),Q=Object(ne.f)(Object(ne.i)(v)),ee=Object(ne.d)(v).length,te=Math.round(100/((q-(ee-Q))/(ee-Q)+1)),ie=Object(ne.b)(x).map((function(t){var n=Object(C.a)(t,2),r=n[0],a=n[1],c=Object(ne.e)((e[r]||0)-a||0,1);return c||(c=0),[r,c]})),le=Object.fromEntries(ie);return{fertilizers:Object(ne.i)(w).map((function(e){return Object(p.a)({},e,{base_weight:Object(ne.e)(e.base_weight,m),weight:Object(ne.e)(e.weight,m)})})).filter((function(e){return e.weight})),elements:x,deltaElements:le,score:te,stats:{count:0,time:0}}}var fe=D.a.mark(me),se=D.a.mark(pe),de=D.a.mark(ve),be=D.a.mark(je),Oe=D.a.mark(he);function me(){var e;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(W.e)(Object(Z.a)(V.k));case 2:return e=t.sent,t.next=5,Object(W.d)(Object(X.k)(e));case 5:case"end":return t.stop()}}),fe)}function pe(){var e,t,n,r,a,c;return D.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(W.e)((function(e){return e.calculator.calculationForm}));case 2:if((e=o.sent).fertilizers.length){o.next=9;break}return o.next=6,Object(W.d)(Object(Y.b)(V.k,{fertilizers:{_error:"Need fertilizers!"}}));case 6:return o.next=8,Object(W.d)(Object(X.a)());case 8:return o.abrupt("return");case 9:return t=e.ignore,n=e.accuracy,r=e.solution_volume,a=e.solution_concentration,c=ie(e.recipe,e.fertilizers,{ignore:Object(p.a)({},t,{},Object(ae.e)(!0).micro),accuracy:n,solution_volume:r,solution_concentration:a}),o.next=13,Object(W.d)(Object(X.c)(c));case 13:case"end":return o.stop()}}),se)}function ve(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.f)(V.b,pe);case 2:case"end":return e.stop()}}),de)}function je(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.f)([G.J.CHANGE,G.J.BLUR,G.J.ARRAY_PUSH,G.J.ARRAY_REMOVE],D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.meta.form!==V.k){e.next=3;break}return e.next=3,Object(W.b)(me);case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),be)}function he(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)([Object(W.c)(ve),Object(W.c)(je)]);case 2:case"end":return e.stop()}}),Oe)}var ge=n(56),Ne=D.a.mark(Ce),Ee=D.a.mark(ye),we=D.a.mark(xe);function Ce(){var e,t,n;return D.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(W.e)(Object(Z.a)(ge.a));case 2:if(!(e=r.sent).composition_enable){r.next=11;break}if(n=Object(ce.b)({id:"",composition:e.composition},!1).elements,Object(ne.c)(e.npk,n)){r.next=8;break}return r.next=8,Object(W.d)(Object(Y.a)(ge.a,"npk",n));case 8:if(null===(t=e.composition)||void 0===t?void 0:t.length){r.next=11;break}return r.next=11,Object(W.d)(Object(Y.a)(ge.a,"composition",[{formula:""}]));case 11:case"end":return r.stop()}}),Ne)}function ye(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.f)([G.J.CHANGE,G.J.BLUR,G.J.ARRAY_PUSH,G.J.ARRAY_REMOVE],D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.meta.form!==ge.a){e.next=3;break}return e.next=3,Object(W.b)(Ce);case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),Ee)}function xe(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)([Object(W.c)(ye)]);case 2:case"end":return e.stop()}}),we)}var Se=D.a.mark(ke),Ke=[he,xe];function ke(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)(Ke.map((function(e){return Object(W.c)(e)})));case 2:case"end":return e.stop()}}),Se)}function Me(e,t){return e}var He=[{id:"\u0421\u0443\u043b\u044c\u0444\u0430\u0442 \u043c\u0430\u0433\u043d\u0438\u044f (MgSO4*7H2O)",composition:[{formula:"MgSO4*7H2O",percent:98}]},{id:"\u041d\u0438\u0442\u0440\u0430\u0442 \u0430\u043c\u043c\u043e\u043d\u0438\u044f (NH4NO3)",composition:[{formula:"NH4NO3",percent:98}]},{id:"\u041d\u0438\u0442\u0440\u0430\u0442 \u043a\u0430\u043b\u0438\u044f (KNO3)",composition:[{formula:"KNO3",percent:98}]},{id:"\u0421\u0443\u043b\u044c\u0444\u0430\u0442 \u043a\u0430\u043b\u0438\u044f (K2SO4)",composition:[{formula:"K2SO4",percent:98}]},{id:"\u041c\u043e\u043d\u043e\u0444\u043e\u0441\u0444\u0430\u0442 \u043a\u0430\u043b\u0438\u044f (KH2PO4)",composition:[{formula:"KH2PO4",percent:98}]},{id:"\u041a\u0430\u043b\u044c\u0446\u0438\u0435\u0432\u0430\u044f \u0441\u0435\u043b\u0438\u0442\u0440\u0430 (Ca(NO3)2*4H2O)",composition:[{formula:"Ca(NO3)2*4H2O",percent:98}]},{id:"\u0421\u0443\u043b\u044c\u0444\u0430\u0442 \u0430\u043c\u043c\u043e\u043d\u0438\u044f (NH4)2SO4)",composition:[{formula:"(NH4)2SO4",percent:98}]},Object(ce.a)("\u041c\u0430\u0433\u043d\u0438\u0435\u0432\u0430\u044f \u0441\u0435\u043b\u0438\u0442\u0440\u0430 (Mg(NO3)2*6\u041d2\u041e)",{NO3:7,Mg:10})],Pe=n(57),Re={calculationForm:null,result:null,process:!1,error:!1,fertilizers:He,recipes:Pe.b},_e=n(106),Ae=Object(B.c)({calculator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.l:return Object(p.a)({},e,{calculationForm:t.form});case V.b:return Object(p.a)({},e,{process:!0});case V.c:return Object(p.a)({},e,{process:!1,result:t.result});case V.a:return Object(p.a)({},e,{process:!1,error:!0});case V.d:return Object(p.a)({},e,{fertilizers:Object(ne.h)(e.fertilizers,t.payload,"id")});case V.e:return Object(p.a)({},e,{fertilizers:e.fertilizers.filter((function(e){return t.payload.id!==e.id}))});case V.g:return Object(p.a)({},e,{fertilizers:t.payload});case V.f:return Object(p.a)({},e,{fertilizers:Object(q.a)(He)});case V.h:return Object(p.a)({},e,{recipes:Object(ne.h)(e.recipes,t.payload,"name")});case V.i:return Object(p.a)({},e,{recipes:e.recipes.filter((function(e){return t.payload.name!==e.name}))});case V.j:return Object(p.a)({},e,{recipes:Object(q.a)(Pe.b)});default:return Me(e)}},form:_e.a}),ze=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||B.d,Te=Object(U.a)();var Fe=function(){var e,t,n={};return localStorage.getItem("reduxState")&&((null===(e=n=JSON.parse(localStorage.getItem("reduxState")))||void 0===e?void 0:e.calculator)&&!n.calculator.fertilizers&&(n.calculator.fertilizers=He),(null===(t=n)||void 0===t?void 0:t.calculator)&&!n.calculator.recipes&&(n.calculator.recipes=Pe.b)),n}(),Le=[Te],Ie=ze(B.a.apply(void 0,Le)),Be=Object(B.e)(Ae,Fe,Ie);Be.subscribe((function(){localStorage.setItem("reduxState",JSON.stringify(Be.getState()))})),Te.run(ke),o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(I,{store:Be})),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/pwa-sw.js");i?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):u(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):u(t,e)}))}}()},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return O}));var r=n(13),a=n(5),c=n(10),o=n(3),i=n(20),u=n(100);function l(e){var t,n={anions:-0,cations:0,ion_balance:0,ratio:Object(u.d)(e),EC:0},r=Object(c.a)(Object(o.b)(e));try{for(r.s();!(t=r.n()).done;){var l=Object(a.a)(t.value,2),f=l[0],s=l[1],d=0;f in i.c&&(d=i.c[f]||0);var b=s*d;Math.sign(b)<0?n.anions+=b:n.cations+=b,n.ion_balance+=b}}catch(O){r.e(O)}finally{r.f()}return n.EC=.095*n.cations+.19,Object(o.b)(n).forEach((function(e){var t=Object(a.a)(e,2),r=t[0],c=t[1];"ratio"!==r&&(c=c,isFinite(c)||(c=0),n[r]=Object(o.e)(c,2))})),n}function f(e){return{macro:{NO3:e,NH4:e,P:e,K:e,Ca:e,Mg:e,S:e,Cl:e},micro:{Fe:e,Mn:e,B:e,Zn:e,Cu:e,Mo:e,Co:e,Si:e}}}function s(){var e=f(0);return Object(r.a)({},e.micro,{},e.macro)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(o.e)(Object(o.f)(e.map((function(e){return 1e3*e.weight})))/t)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(o.e)(e*(1/t))/1e3}function O(e,t){return e-e/(1+t)}},3:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return d})),n.d(t,"c",(function(){return b}));var r=n(22),a=n(10),c=Object.keys,o=Object.entries,i=Object.values;function u(e){return e.reduce((function(e,t){return e+t}),0)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.pow(10,t);return Math.round((e+Number.EPSILON)*n)/n}function f(e){return Math.floor(e.valueOf())===e.valueOf()?0:e.toString().split(".")[1].length||0}function s(e,t){var n,r={},c=Object(a.a)(e);try{for(c.s();!(n=c.n()).done;){var o=n.value;r[o[t]]=o}}catch(i){c.e(i)}finally{c.f()}return r}function d(e,t,n){for(var a=Object(r.a)(e),c=!1,o=0;o<e.length;o++)if(a[o][n]===t[n]){a[o]=t,c=!0;break}return c||a.push(t),a}function b(e,t){return JSON.stringify(e)===JSON.stringify(t)}},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b}));var r=n(71),a=n(10),c=n(5),o=n(3),i=n(51),u=n(27),l={NO3:"NO3",NH4:"NH4",P:"P2O5",K:"K2O",Ca:"CaO",Mg:"MgO"};function f(e,t){return{id:e,composition:Object(o.b)(t).filter((function(e){return e[1]>0})).map((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1],a=n;return l.hasOwnProperty(n)&&(a=l[n]),{formula:a,percent:r}}))}}function s(e){var t,n=Object(u.d)(),l=Object(a.a)(e);try{for(l.s();!(t=l.n()).done;){var f,s=t.value,d=Object(i.b)(s.formula),b=Object(i.a)(d),O=Object(a.a)(Object(o.b)(b));try{for(O.s();!(f=O.n()).done;){var m=Object(c.a)(f.value,2),p=m[0],v=m[1],j=Object(r.a)({},p,1);"N"===p&&(j=Object(i.c)(s.formula),Object(o.d)(n).includes(s.formula)&&(v=1));var h,g=Object(o.f)(Object(o.i)(j)),N=Object(a.a)(Object(o.b)(j));try{for(N.s();!(h=N.n()).done;){var E=Object(c.a)(h.value,2),w=E[0],C=E[1];if(n.hasOwnProperty(w)){var y=100;s.percent&&(y=s.percent),y*=C/g,n[w]+=Object(o.e)(y*v,2)}}}catch(x){N.e(x)}finally{N.f()}}}catch(x){O.e(x)}finally{O.f()}}}catch(x){l.e(x)}finally{l.f()}return n}function d(e){var t=Object(o.b)(e).map((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1],a=l[n]||n,u=Object(i.a)(Object(i.b)(a)),f=u.hasOwnProperty("N")||u.hasOwnProperty("S"),s=u[n];if(!f&&s){var d=Object(o.e)(Object(o.f)(Object(o.i)(u))/s,2);r=Object(o.e)(r*d,2)}return[n,r]}));return Object.fromEntries(t)}function b(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(u.d)(),r=e.composition;return e.npk&&(r=f(e.id,e.npk).composition),r&&(n=s(r)),t||(n=d(n)),{id:e.id,elements:n}}},51:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return b}));var r=n(5),a=n(10),c=n(3),o=n(20),i=function(e){var t,n,r=[],c="",o="",i=0,u=function(){if(c){var e=parseInt(o||"1",10);r.push({formula:c,count:e}),c="",o=""}},l=-1,f=Object(a.a)(e);try{for(f.s();!(n=f.n()).done;){var s=n.value;if(l++,/[A-Za-z]/.test(s))t&&(u(),t=!1),c+=s;else if("("===s)0===i&&c&&u(),i>0&&(c+=s),i+=1;else if(")"===s)0===(i-=1)?t=!0:c+=s;else if(/[*+]/.test(s))0===i&&c&&(u(),t=!1),i>0&&(c+=s),i+=1;else if(/\d/.test(s))if(t)o+=s;else if(c){if(0===l){o+=s;continue}c+=s}else o+=s}}catch(d){f.e(d)}finally{f.f()}return u(),r},u=function e(t){if(!t)return{};var n=i(t);if(1===n.length&&n[0].formula===t)return function(e){var t={},n=e.match(l);if(!n)return t;var r,c=Object(a.a)(n);try{for(c.s();!(r=c.n()).done;){var i=r.value.match(f);if(i){var u=i[1],s=parseInt(i[2]||"1",10);if(o.a.hasOwnProperty(u)){var d=u;t[d]=u in t?(t[d]||0)+s:s}}}}catch(b){c.e(b)}finally{c.f()}return t}(t);var r={};return n.forEach((function(t){var n,a=e(t.formula);for(var c in a)if(o.a.hasOwnProperty(c)){var i=c;n=(a[i]||0)*t.count,r[i]=c in r?(r[i]||0)+n:n}})),r},l=/([A-Z][a-z]{0,2})(\d*)/g,f=/([A-Z][a-z]{0,2})(\d*)/;function s(e){return u(e)}function d(e){var t,n={NH4:0,NO3:0},o=/NH4|NO3|NH2/g,u=Object(a.a)(i(e));try{for(u.s();!(t=u.n()).done;){var l=t.value,f=l.formula;if("NH2"===f&&(f="NH4"),n.hasOwnProperty(f))n[f]+=l.count;else if(f!==e){var s,b=Object(a.a)(Object(c.b)(d(f)));try{for(b.s();!(s=b.n()).done;){var O=Object(r.a)(s.value,2),m=O[0],p=O[1];n[m]+=p}}catch(g){b.e(g)}finally{b.f()}}else{var v,j=Object(a.a)(f.matchAll(o));try{for(j.s();!(v=j.n()).done;){var h=v.value[0];"NH2"===h&&(h="NH4"),n[h]+=l.count}}catch(g){j.e(g)}finally{j.f()}}}}catch(g){u.e(g)}finally{u.f()}return n}function b(e){var t=Object.fromEntries(Object(c.b)(e).map((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return[n,o.a[n]*a]}))),n=Object(c.f)(Object(c.i)(t));return Object.fromEntries(Object(c.b)(t).map((function(e){var t=Object(r.a)(e,2);return[t[0],t[1]/n]})))}},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="fertilizerEdit"},57:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r={Fe:4.5,Mn:.636,B:.636,Zn:.384,Cu:.069,Mo:.069},a=[{name:"\u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u043e\u0435",elements:{NO3:214,NH4:14,P:60,K:250,Ca:170,Mg:50,S:46}},{name:"\u041f\u0435\u0440\u0435\u0446 \u0432\u0435\u0433\u0435\u0442\u0430\u0446\u0438\u044f",color:"green",elements:{NO3:224,NH4:14,P:39,K:264,Ca:200,Mg:36,S:56}},{name:"\u041f\u0435\u0440\u0435\u0446 \u0446\u0432\u0435\u0442\u0435\u043d\u0438\u0435",color:"yellow",elements:{NO3:150,NH4:0,P:90,K:280,Ca:170,Mg:50,S:56}},{name:"\u041f\u0435\u0440\u0435\u0446 \u043f\u043b\u043e\u0434\u043e\u043d\u043e\u0448\u0435\u043d\u0438\u0435",color:"red",elements:{NO3:140,NH4:0,P:50,K:330,Ca:170,Mg:50,S:56}},{name:"\u0422\u043e\u043c\u0430\u0442 \u0432\u0435\u0433\u0435\u0442\u0430\u0446\u0438\u044f",color:"green",elements:{NO3:220,NH4:0,P:50,K:260,Ca:220,Mg:60,S:141}},{name:"\u0422\u043e\u043c\u0430\u0442 \u0446\u0432\u0435\u0442\u0435\u043d\u0438\u0435",color:"yellow",elements:{NO3:220,NH4:0,P:50,K:280,Ca:200,Mg:60,S:141}},{name:"\u0422\u043e\u043c\u0430\u0442 \u043f\u043b\u043e\u0434\u043e\u043d\u043e\u0448\u0435\u043d\u0438\u0435",color:"red",elements:{NO3:200,NH4:0,P:50,K:320,Ca:180,Mg:60,S:141}},{name:"\u041e\u0433\u0443\u0440\u0446\u044b",elements:{NO3:180,NH4:0,P:80,K:320,Ca:180,Mg:50,S:44}},{name:"\u0421\u0430\u043b\u0430\u0442",elements:{NO3:200,NH4:0,P:80,K:200,Ca:170,Mg:50,S:0}},{name:"\u0411\u043e\u0431\u043e\u0432\u044b\u0435",elements:{NO3:80,NH4:0,P:110,K:400,Ca:170,Mg:50,S:0}},{name:"\u041a\u0430\u043f\u0443\u0441\u0442\u0430",elements:{NO3:200,NH4:0,P:70,K:200,Ca:170,Mg:50,S:0}},{name:"\u041a\u043b\u0443\u0431\u043d\u0438\u043a\u0430",elements:{NO3:150,NH4:0,P:70,K:350,Ca:200,Mg:50,S:48}},{name:"\u041a\u0430\u0440\u0442\u043e\u0444\u0435\u043b\u044c",elements:{NO3:200,NH4:0,P:80,K:200,Ca:170,Mg:50,S:0}},{name:"\u0422\u044b\u043a\u0432\u0430",elements:{NO3:100,NH4:0,P:95,K:320,Ca:170,Mg:50,S:0}}]},63:function(e,t,n){"use strict";n.d(t,"k",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return O}));var r=n(12),a=function(e){return{type:r.l,form:e}},c=function(){return{type:r.b}},o=function(e){return{type:r.c,result:e}},i=function(){return{type:r.a}},u=function(e){return{type:r.d,payload:e}},l=function(e){return{type:r.e,payload:e}},f=function(e){return{type:r.g,payload:e}},s=function(){return{type:r.f}},d=function(e){return{type:r.h,payload:e}},b=function(e){return{type:r.i,payload:e}},O=function(){return{type:r.j}}},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(5),a=n(87),c=n(0),o=n.n(c),i=n(17),u=n(93),l=Object(c.forwardRef)((function(e,t){var n,l=e.component,f=e.size,s=void 0===f?"1.5em":f,d=(e.children,Object(a.a)(e,["component","size","children"])),b=Object(c.useState)(s||0),O=Object(r.a)(b,2),m=O[0],p=O[1],v=Object(u.a)();return Object(c.useEffect)((function(){var e;!s&&t&&"current"in t&&p((null===(e=t.current)||void 0===e?void 0:e.offsetWidth)||0)}),[t,p,s]),o.a.createElement(i.a,Object.assign({},d,{ref:t}),o.a.createElement(l,{color:null===(n=v.colors)||void 0===n?void 0:n.text,size:m}))}))}},[[170,2,3]]]);
//# sourceMappingURL=main.bcf06077.chunk.js.map