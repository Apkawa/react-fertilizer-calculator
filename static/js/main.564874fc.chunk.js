(this["webpackJsonpfertilizer-calculator"]=this["webpackJsonpfertilizer-calculator"]||[]).push([[1],{10:function(e,t,n){"use strict";n.d(t,"m",(function(){return r})),n.d(t,"n",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return s})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return O})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return v})),n.d(t,"o",(function(){return j}));var r="calculatorOptions",a="STORE_CALCULATE_FORM",c="CALCULATE_START",o="CALCULATE_SUCCESS",i="CALCULATE_ERROR",u="FERTILIZERS_PUSH",l="FERTILIZERS_REMOVE",f="FERTILIZERS_SET",s="FERTILIZERS_RESET",b="RECIPE_PUSH",d="RECIPE_REMOVE",O="RECIPE_RESET",m="LOAD_STATE_START",v="LOAD_STATE_SUCCESS",j="TOPPING_UP_SUCCESS"},104:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(8),a=n(5),c=n(58),o=n(7),i=n(32),u=n(39),l=n(47),f=n(48),s=n(110),b=n(4),d=n(26),O=n(2),m=n(63),v=["CaNO3","KNO3","NH4NO3","MgSO4","KH2PO4","K2SO4","MgNO3","CaCl2"],j=function(e){Object(f.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"export",value:function(e){return""}},{key:"buildFertilizers",value:function(e){var t,n=[],r=Object(o.a)(v);try{var a=function(){var r=t.value,a=Object(O.b)(Object(d.e)({id:"",composition:[{formula:r,percent:100}]},!0).elements).filter((function(e){return e[1]})).map((function(e){return e[0]})),c=Object(d.d)(Object.fromEntries(a.map((function(t){return[t,e["".concat(r,"_").concat(t)]||0]})))),o={id:r,npk:c,solution_density:1e3*e["gml".concat(r)],solution_concentration:e["gl".concat(r)]},i=parseFloat(e["m".concat(r)].match(/\d+/))||void 0;i&&(o.pump_number=i),n.push(o)};for(r.s();!(t=r.n()).done;)a()}catch(h){r.e(h)}finally{r.f()}var i=Object.fromEntries(b.d.map((function(t){return[t,e["d".concat(t)]]})));if("TRUE"===e.chkComplex){var u=Object(d.b)("\u041c\u0438\u043a\u0440\u043e",i);u.solution_density=e.gmlCmplx,u.solution_concentration=e.glCmplx;var l=parseFloat(e.mCmplx.match(/\d+/));l&&(u.pump_number=l),n.push(u)}else{var f,s=Object(o.a)(b.d);try{for(s.s();!(f=s.n()).done;){var m=f.value;if(i[m]){var j=Object(d.b)(m,Object(c.a)({},m,i[m]||0));j.solution_density=e["gl".concat(m)],j.solution_concentration=e["gl".concat(m)];var p=parseFloat(e["m".concat(m)].match(/\d+/))||void 0;p&&(j.pump_number=p),n.push(j)}}}catch(h){s.e(h)}finally{s.f()}}return n}},{key:"import",value:function(e){var t,n=e.split("\n").map((function(e){return e.split("=")})).map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return[n,Object(O.h)(r)]})),r=Object.fromEntries(n),c=parseFloat(r.V||1),i=this.buildFertilizers(r),u=Object.fromEntries(n.filter((function(e){return b.b.includes(e[0])}))),l=Object(o.a)(b.d);try{for(l.s();!(t=l.n()).done;){var f=t.value,s=u[f];s&&(u[f]=s/1e3)}}catch(d){l.e(d)}finally{l.f()}return{meta:{version:r.version||"",created:"",ref:""},calculator:{calculationForm:{recipe:u,solution_volume:r.tAml/1e3,solution_concentration:Object(m.c)(1e3*c/r.tAml),dilution_enabled:!0,dilution_volume:c,dilution_concentration:Object(m.c)(1),accuracy:.01,fertilizers:i.filter((function(e){return"K2SO4"===e.id?"TRUE"===r.chK2SO4:"MgNO3"!==e.id||"TRUE"===r.chMgNO3})),mixerOptions:{url:r.addrMixer}},result:null,fertilizers:i,recipes:[]}}}}],[{key:"parseProfileStringToObject",value:function(e){var t,n={},r=Object(o.a)(e.split(" "));try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a=a.trim()){var c=a.split("=");2===c.length&&(n[c[0].trim()]=parseFloat(c[1].replace(",",".")))}}}catch(i){r.e(i)}finally{r.f()}return n}},{key:"fillNPKElements",value:function(e){var t,n=Object(r.a)({},e),a=Object(o.a)(b.b);try{for(a.s();!(t=a.n()).done;){var c=t.value;n[c]=n[c]||0}}catch(i){a.e(i)}finally{a.f()}return n}},{key:"parseProfileString",value:function(e){for(var t={},r=n.parseProfileStringToObject(e),c=0,o=Object.entries(r);c<o.length;c++){var i=Object(a.a)(o[c],2),u=i[0],l=i[1];b.b.includes(u)&&(t[u]=l)}return r.N&&!t.NO3&&(t.NO3=r.N),t}},{key:"stringifyProfile",value:function(e){var t=b.b.map((function(t){return"undefined"!=typeof e[t]&&"".concat(t,"=").concat(e[t])})).filter((function(e){return e})).join(" ");return"N=".concat((e.NO3||0)+(e.NH4||0)," ").concat(t)}}]),n}(s.a);j.ext=".hpg"},109:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u}));var r=n(7),a=n(8),c=n(18),o=[{slug:"how_to_use",name:"\u041a\u0430\u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c",lazy:function(){return n.e(15).then(n.bind(null,253)).then((function(e){return e.default}))}},{slug:"profile",name:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432",lazy:function(){return n.e(16).then(n.bind(null,254)).then((function(e){return e.default}))},children:[{slug:"example",name:"\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u043f\u0440\u043e\u0444\u0438\u043b\u0435\u0439",lazy:function(){return n.e(17).then(n.bind(null,255)).then((function(e){return e.default}))}}]},{slug:"technique",name:"\u041c\u0435\u0442\u043e\u0434\u0438\u043a\u0430 \u0440\u0430\u0441\u0447\u0435\u0442\u0430",lazy:function(){return n.e(21).then(n.bind(null,256)).then((function(e){return e.default}))}},{slug:"chelates",name:"\u0418\u0437\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0445\u0435\u043b\u0430\u0442\u043e\u0432",lazy:function(){return n.e(14).then(n.bind(null,257)).then((function(e){return e.default}))}},{slug:"safety",name:"\u0422\u0435\u0445\u043d\u0438\u043a\u0430 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438",lazy:function(){return n.e(19).then(n.bind(null,258)).then((function(e){return e.default}))},children:[{slug:"chem_table",name:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0432\u0435\u0449\u0435\u0441\u0442\u0432",lazy:function(){return n.e(20).then(n.bind(null,259)).then((function(e){return e.default}))}}]},{slug:"references",name:"\u0421\u0441\u044b\u043b\u043a\u0438 \u0438 \u043b\u0438\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430",lazy:function(){return n.e(18).then(n.bind(null,260)).then((function(e){return e.default}))}}];Object.fromEntries(o.map((function(e){return[e.slug,e]})));function i(){var e,t,n=Object(c.h)({path:"/help/:slug*"});return t=(null===n||void 0===n||null===(e=n.params)||void 0===e?void 0:e.slug)||null,function e(n,r){return n.map((function(n){var c=[r,n.slug].filter((function(e){return e})).join("/");return Object(a.a)({},n,{slug:c,children:n.children?e(n.children,c):[],active:c===t,path:"/help/"+c})}))}(o,"")}function u(){var e=i(),t={};return function e(n){var a,c=Object(r.a)(n);try{for(c.s();!(a=c.n()).done;){var o=a.value;t[o.slug]=o,o.children.length&&e(o.children)}}catch(i){c.e(i)}finally{c.f()}}(e),t}},110:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(32),a=function e(){Object(r.a)(this,e)};a.ext=void 0},180:function(e,t,n){e.exports=n(251)},188:function(e,t,n){},2:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"k",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return s})),n.d(t,"h",(function(){return b})),n.d(t,"g",(function(){return d})),n.d(t,"i",(function(){return O})),n.d(t,"j",(function(){return m})),n.d(t,"c",(function(){return v}));var r=n(5),a=n(16),c=n(7),o=Object.keys,i=Object.entries,u=Object.values;function l(e){return e.reduce((function(e,t){return e+t}),0)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.pow(10,t);return Math.round((e+Number.EPSILON)*n)/n}function s(e){return Math.floor(e.valueOf())===e.valueOf()?0:e.toString().split(".")[1].length||0}function b(e){var t=parseFloat(e);return isNaN(t)?e:t}function d(e,t){var n,r={},a=Object(c.a)(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;r[o[t]]=o}}catch(i){a.e(i)}finally{a.f()}return r}function O(e,t,n){for(var r=Object(a.a)(e),c=!1,o=0;o<e.length;o++)if(r[o][n]===t[n]){r[o]=t,c=!0;break}return[r,c]}function m(e,t,n){var a=O(e,t,n),c=Object(r.a)(a,2),o=c[0];return c[1]||o.push(t),o}function v(e,t){return JSON.stringify(e)===JSON.stringify(t)}},21:function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return b})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return O}));var r=n(8),a=n(5),c=n(2),o=n(52),i=n(80);function u(e){var t=Object(i.e)(e),n={ion_balance:Object(o.b)(e),ratio:t,EC:Object(o.a)(e)};return n.EC=Object(o.a)(e),Object(c.b)(n).forEach((function(e){var t=Object(a.a)(e,2),r=t[0],o=t[1];"ratio"!==r&&(o=o,isFinite(o)||(o=0),n[r]=Object(c.e)(o,2))})),n}function l(e){return{macro:{NO3:e,NH4:e,P:e,K:e,Ca:e,Mg:e,S:e,Cl:e},micro:{Fe:e,Mn:e,B:e,Zn:e,Cu:e,Mo:e,Co:e,Si:e}}}function f(){var e=l(0);return Object(r.a)({},e.micro,{},e.macro)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(c.e)(Object(c.f)(e.map((function(e){return 1e3*e.weight})))/t)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(c.e)(e*(1/t))/1e3}function d(e){var t=e.currentSolution,n=e.newSolution,r=n.volume-t.volume;if(0===r)return{weight:0,concentration:0,EC:0,volume:0};var a=-(t.EC*t.volume-n.EC*t.volume-n.EC*r)/r,o=t.profileSaltsConcentration/t.profileEC,i=Object(c.e)(a*o*r,3);return{weight:i,concentration:Object(c.e)(i/2/r,2),EC:Object(c.e)(a,2),volume:r}}function O(e,t){return e-e/(1+t)}},251:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(56),o=n.n(c),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function u(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var l=n(94),f=n(54),s=n(18),b=n(261),d=n(53),O={App:Object(d.a)((function(){return n.e(9).then(n.bind(null,591))})),NotFound:function(){return a.a.createElement("h1",null,"Not found")},Help:Object(d.a)((function(){return Promise.all([n.e(4),n.e(12)]).then(n.bind(null,596))})),Calculator:Object(d.a)((function(){return n.e(13).then(n.bind(null,592))})),ChemFormula:Object(d.a)((function(){return n.e(11).then(n.bind(null,593))})),DensityCalculator:Object(d.a)((function(){return n.e(7).then(n.bind(null,595))})),Example:Object(d.a)((function(){return n.e(10).then(n.bind(null,594))}))},m=n(19),v=n(8),j=n(252),p=Object(v.a)({},j.polaris,{colors:Object(v.a)({},j.polaris.colors,{NO3:"#05AD11",NH4:"#FFF",P:"#DBC403",K:"#E07206",Ca:"#D1C7C7",Mg:"#AB0AE0",S:"#FFF",modes:{dark:Object(v.a)({},j.polaris.colors.modes.dark,{text:"#9d9d9d"})}}),card:{boxShadow:"small",p:2},styles:Object(v.a)({},j.polaris.styles,{button:{color:"background"}}),shadows:{small:"0 0 4px rgba(0, 0, 0, .125)",large:"0 0 24px rgba(0, 0, 0, .125)"}});console.log(p);var h=n(69);function g(){var e=Object(h.a)(['\n&>a {\n    background: #000;\n    color: #fff;\n    text-decoration: none;\n    font-family: arial, sans-serif;\n    text-align: center;\n    font-weight: bold;\n    padding: 5px 40px;\n    font-size: 1rem;\n    line-height: 2rem;\n    position: relative;\n    transition: 0.5s;\n}\n\n&>a:hover {\n    background: #c11;\n    color: #fff;\n}\n\n&>a::before, &>a::after {\n    content: "";\n    width: 100%;\n    display: block;\n    position: absolute;\n    top: 1px;\n    left: 0;\n    height: 1px;\n    background: #fff;\n}\n\n&>a::after {\n    bottom: 1px;\n    top: auto;\n}\n\n@media screen and (min-width: 800px) {\n    & {\n        position: absolute;\n        display: block;\n        top: 0;\n        right: 0;\n        width: 200px;\n        overflow: hidden;\n        height: 200px;\n        z-index: 100;\n    }\n\n    &>a {\n        // width: 200px;\n        position: absolute;\n        top: 40px;\n        right: -50px;\n        transform: rotate(45deg);\n        box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.8);\n    }\n}\n']);return g=function(){return e},e}var C=n(71).b.span(g()),E=function(){return a.a.createElement(C,null,a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/Apkawa/react-fertilizer-calculator"},"Fork me on GitHub"))},y=n(50),N=n(5),w=n(86),x=n(122),S=n(98),k=n(51),M=n(103);function _(){var e=Object(h.a)(["\n  overflow-y: auto;\n  position: absolute;\n  height: 100%;\n  top: 0;\n  left: 0;\n  justify-content: left;\n  align-items: stretch;\n  z-index: 999;\n  width: fit-content;\n  \n  //// Mobile\n  //@media screen and (max-height: 500px), screen and (max-width: 500px) {\n  //  align-items: initial;\n  //}\n  ","\n"]);return _=function(){return e},e}var P=Object(k.default)(m.d)(_(),(function(e){return e.docked?"":"\n    top: ".concat((function(){return"".concat(window.pageYOffset,"px")}),";\n    width: 100%;\n    background-color: rgba(255, 255, 255, 0.5);\n  ")}));function H(e){var t=e.children,n=e.actions,r=e.docked,c=function(){var e=document.querySelector("#sidebar-root");return e||((e=document.createElement("div")).setAttribute("id","sidebar-root"),document.body.appendChild(e)),e}();return o.a.createPortal(a.a.createElement(a.a.Fragment,null,a.a.createElement(M.a,null,a.a.createElement("style",{type:"text/css"},!r&&"\n          body {\n            overflow: hidden;\n          }\n        ")),a.a.createElement(P,{docked:r,onClick:function(){r||n.close()}},a.a.createElement(m.c,{backgroundColor:"#fff",height:"100vh",width:"300px",marginRight:2},t))),c)}function F(){return{width:window.innerWidth,height:window.innerHeight}}function z(e){var t=e.opened,n=void 0===t?Boolean(e.docked):t,c=e.button,o=Object(r.useState)(!n),i=Object(N.a)(o,2),u=i[0],l=i[1],f=function(){var e=Object(r.useState)(F()),t=Object(N.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){function e(){a(F)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),s=Object(r.useState)(e.docked||f.width>1024),b=Object(N.a)(s,2),d=b[0],O=b[1];Object(r.useEffect)((function(){var t=e.docked||f.width>1650;O(t),t&&u&&l(!1)}),[f,u,e.docked]),Object(r.useEffect)((function(){l(!n)}),[n]),Object(r.useEffect)((function(){u&&e.onClose&&e.onClose()}),[u,e]);var v={open:function(){return l(!1)},close:function(){return l(!0)}},j={modal:v};return a.a.createElement(a.a.Fragment,null,c?c(j):a.a.createElement(w.a,{size:42,component:x.a,onClick:v.open}),u?null:a.a.createElement(H,{actions:v,docked:d},a.a.createElement(m.d,{justifyContent:"space-between"},d?null:a.a.createElement(w.a,{size:42,component:S.a,onClick:v.close}),a.a.createElement(m.e,{fontSize:2},e.title)),a.a.createElement(m.a,null,e.children)))}var R=n(123),A=n(125),K=n(126),T=function(){var e=Object(R.b)(),t=Object(N.a)(e,2),n=t[0],r=t[1],c="default"===n?A.a:K.a;return a.a.createElement(c,{onClick:function(){r("default"===n?"dark":"default")},size:42,color:"text"})},B=(n(188),n(109));function Z(e){return a.a.createElement(z,null,a.a.createElement(y.b,{startPathWith:"",tabClassName:"tab-link",activeTabClassName:"active"},a.a.createElement(m.d,{flexDirection:"column"},a.a.createElement(y.a,{exact:!0,to:"/"},"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440"),a.a.createElement(y.a,{to:"/fertilizers"},"\u0423\u0434\u043e\u0431\u0440\u0435\u043d\u0438\u044f"),a.a.createElement(y.a,{to:"/formula/"},"\u041f\u0430\u0440\u0441\u0435\u0440 \u0444\u043e\u0440\u043c\u0443\u043b"),a.a.createElement(y.a,{to:"/density/"},"\u041f\u043b\u043e\u0442\u043d\u043e\u0441\u0442\u044c"),a.a.createElement(L,null))),a.a.createElement(T,null))}function L(e){var t=Object(s.h)({path:"/help/:slug?"}),n=Object(B.b)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(y.a,{disabled:!0,to:"",isActive:function(){return!!t}},"\u0421\u043f\u0440\u0430\u0432\u043a\u0430"),function e(t){return a.a.createElement("ul",null,t.map((function(t){return a.a.createElement(a.a.Fragment,null,a.a.createElement("li",null,a.a.createElement(y.a,{to:t.path,exact:!0},t.name),t.children.length?e(t.children):null))})))}(n))}var U=function(e){var t=e.store;return a.a.createElement(l.a,{store:t},a.a.createElement(b.a,{theme:p},a.a.createElement(f.a,null,a.a.createElement(m.d,{justifyContent:"space-between"},a.a.createElement(m.a,{padding:1},a.a.createElement(Z,null)),a.a.createElement(E,null)),a.a.createElement(m.d,{flexDirection:"column",margin:2},a.a.createElement(m.a,{flex:1},a.a.createElement(m.d,{sx:{justifyContent:"center"}},a.a.createElement(m.a,{width:"936px"},a.a.createElement(s.c,null,a.a.createElement(s.a,{path:["/formula/:formula?/:percent?"],component:O.ChemFormula}),a.a.createElement(s.a,{path:["/density/:formula?/:concentration?/:density?/"],component:O.DensityCalculator}),a.a.createElement(s.a,{path:"/example",component:O.Example}),a.a.createElement(s.a,{path:"/help/:slug*",component:O.Help}),a.a.createElement(s.a,{path:"/",component:O.Calculator}),a.a.createElement(s.a,{path:"*",component:O.NotFound}))))),a.a.createElement(m.d,{justifyContent:"flex-end",marginTop:"auto",flex:1},a.a.createElement(m.f,{fontSize:1},"0.2.1","-","master, origin/master, origin/HEAD"," ","fa4651a"," [","2025-05-12T13:22:51+03:00","]"))))))},I=n(33),D=n(129),J=n(9),W=n.n(J),G=n(12),V=n(117),Y=n(42),q=n(3),X=n(10),$=n(44),Q=n(7),ee=n(16),te=n(127),ne=W.a.mark(re);function re(e){var t,n,r;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=Object(Q.a)(new te.a(e)),a.prev=1,t.s();case 3:if((n=t.n()).done){a.next=9;break}return r=n.value,a.next=7,r;case 7:a.next=3;break;case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),t.e(a.t0);case 14:return a.prev=14,t.f(),a.finish(14);case 17:case"end":return a.stop()}}),ne,null,[[1,11,14,17]])}var ae=n(2),ce=n(4),oe=n(21),ie=n(26),ue=n(63);function le(e,t){var n=Object(ae.b)(e).map((function(e){var n=Object(N.a)(e,2),r=n[0],a=n[1],c=t[r],o=100;return 0!==c?o=c<a?a/c:c/a:c===a&&(o=1),[r,o]}));return Object.fromEntries(n)}function fe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.fromEntries(t.map((function(e){return[e.id,Object(ie.e)(e)]}))),a=t.filter((function(e){return!ce.d.filter((function(t){return r[e.id].elements[t]})).length})),c=t.filter((function(e){return ce.d.filter((function(t){return r[e.id].elements[t]})).length})),o=Object.fromEntries(Object(ae.b)(e).filter((function(e){var t=Object(N.a)(e,2),n=t[0],r=t[1];return ce.d.includes(n)&&r>0}))),i=se(o,c,Object(v.a)({},n,{ignore:Object(v.a)({},n.ignore,{},Object(oe.e)(!0).macro)}));ce.c.forEach((function(t){e[t]=(null===e||void 0===e?void 0:e[t])||0-i.elements[t]}));var u=se(e,a,Object(v.a)({},n,{ignore:Object(v.a)({},n.ignore,{},Object(oe.e)(!0).micro)})),l=Object(ae.b)(u.elements).map((function(e){var t=Object(N.a)(e,2),n=t[0];return[n,t[1]+i.elements[n]]})),f=Object.fromEntries(l),s=ce.b.map((function(t){return[t,(e[t]||0)-f[t]]})),b=[];a.length>0&&b.push(u.score),c.length>0&&b.push(i.score);var d={fertilizers:[].concat(Object(ee.a)(u.fertilizers),Object(ee.a)(i.fertilizers)),elements:f,deltaElements:Object.fromEntries(s),score:Object(ae.e)(Object(ae.f)(b)/b.length,1),stats:{time:Object(ae.e)(u.stats.time+i.stats.time,3),count:u.stats.count+i.stats.count}};return d}function se(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null,c=(new Date).getTime(),o=0,i=Object(Q.a)(re(t));try{for(i.s();!(n=i.n()).done;){var u=n.value;if(o>3e3)break;var l=de(e,u,r);if(a){if(a.score>=100)break;a.score<l.score&&(a=l),o+=1}else a=l}}catch(f){i.e(f)}finally{i.f()}return a&&(a.stats.count=o,a.stats.time=((new Date).getTime()-c)/1e3),a}var be={NH4:2e3,P:2e3,B:5e3};function de(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r||{},c=a.accuracy,o=void 0===c?.1:c,i=a.ignore,u=void 0===i?{}:i,l=a.solution_volume,f=void 0===l?1:l,s=a.solution_concentration,b=void 0===s?1:s,d=a.prevElements,O=void 0===d?Object(oe.d)():d,m=Object(ae.a)(o),j=Object(oe.d)(),p=Object(v.a)({},Object(oe.e)(1e3).macro,{},Object(oe.e)(3e3).micro,{},be),h=Object(Q.a)(Object(ae.d)(j));try{for(h.s();!(n=h.n()).done;){var g=n.value;u[g]&&(j[g]=1),"undefined"==typeof e[g]&&(j[g]=1),(null===p||void 0===p?void 0:p[g])&&j[g]&&(p[g]=(p[g]||0)-1e3)}}catch(de){h.e(de)}finally{h.f()}var C,E=Object.fromEntries(t.map((function(e){return[e.id,e]}))),y=t.map((function(e){return Object(ie.e)(e)})),w=Object.fromEntries(t.map((function(e){return[e.id,{id:e.id,weight:0,base_weight:0,volume:null}]}))),x=Object(v.a)({},e),S=O,k=Object(Q.a)(y);try{for(k.s();!(C=k.n()).done;){var M,_,P=C.value,H=Object(ae.b)(P.elements).filter((function(e){return e[1]})).sort((function(e,t){return((null===p||void 0===p?void 0:p[t[0]])||0)-((null===p||void 0===p?void 0:p[e[0]])||0)+((x[e[0]]||0)/e[1]-(x[t[0]]||0)/t[1])})),F=null===(M=H.filter((function(t){var n=Object(N.a)(t,1)[0];return(x[n]||0)>0&&(e[n]||0)>0})))||void 0===M||null===(_=M[0])||void 0===_?void 0:_[0],z=1===H.filter((function(t){var n=Object(N.a)(t,1)[0];return(e[n]||0)<=0&&!j[n]})).length;if(F&&!z){var R=Object.fromEntries(H),A=(x[F]||0)/(10*R[F]),K=E[P.id];w[P.id].base_weight=Object(ae.e)(A,4);var T=Object(ue.c)(b);w[P.id].weight=Object(ae.e)(A*f*T.k,m),K.solution_concentration&&(w[P.id].volume=Object(ae.e)(1e3*w[P.id].weight/K.solution_concentration,m));var B=w[P.id].volume;K.solution_density&&B&&(w[P.id].liquid_weight=Object(ae.e)(B*(K.solution_density/1e3),m));var Z,L=Object(Q.a)(H);try{for(L.s();!(Z=L.n()).done;){var U=Object(N.a)(Z.value,2),I=U[0],D=U[1],J=A*D*10,W=Object(ae.a)(e[I]||0);ce.d.includes(I)&&(W=4),S[I]+=Object(ae.e)(J,W),x[I]=(x[I]||0)-J}}catch(de){L.e(de)}finally{L.f()}}}}catch(de){k.e(de)}finally{k.f()}var G,V=le(e,S),Y=Object(Q.a)(Object(ae.b)(j));try{for(Y.s();!(G=Y.n()).done;){var q=Object(N.a)(G.value,2),X=q[0],$=q[1];$&&(V[X]=0)}}catch(de){Y.e(de)}finally{Y.f()}var ee=Object(ae.f)(Object.values(V)),te=Object(ae.f)(Object(ae.k)(j)),ne=Object(ae.d)(j).length,re=Object(ae.e)(100/((ee-(ne-te))/(ne-te)+1),2),fe=Object(ae.b)(S).map((function(t){var n=Object(N.a)(t,2),r=n[0],a=n[1],c=Object(ae.e)((e[r]||0)-a||0,1);return c||(c=0),[r,c]})),se=Object.fromEntries(fe);return{fertilizers:Object(ae.k)(w).map((function(e){return Object(v.a)({},e,{base_weight:Object(ae.e)(e.base_weight,m),weight:Object(ae.e)(e.weight,m)})})).filter((function(e){return e.weight})),elements:S,deltaElements:se,score:re||0,stats:{count:0,time:0}}}var Oe=W.a.mark(ye),me=W.a.mark(Ne),ve=W.a.mark(we),je=W.a.mark(xe),pe=W.a.mark(Se),he=W.a.mark(ke),ge=W.a.mark(Me),Ce=W.a.mark(_e),Ee=W.a.mark(Pe);function ye(e){var t;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,Object(G.d)(Object($.i)(Object(v.a)({},t.calculator)));case 3:case"end":return n.stop()}}),Oe)}function Ne(){var e;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(G.e)(Object(V.a)(X.m));case 2:return e=t.sent,t.next=5,Object(G.d)(Object($.m)(e));case 5:case"end":return t.stop()}}),me)}function we(){var e,t,n,r,a,c,o,i,u,l,f;return W.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(G.e)((function(e){return e.calculator.calculationForm}));case 2:if((e=s.sent).fertilizers.length){s.next=9;break}return s.next=6,Object(G.d)(Object(Y.b)(X.m,{fertilizers:{_error:"Need fertilizers!"}}));case 6:return s.next=8,Object(G.d)(Object($.a)());case 8:return s.abrupt("return");case 9:if(t=e.ignore,n=e.accuracy,r=e.solution_volume,a=e.solution_concentration,c=e.topping_up_enabled,o=e.topping_up,i=fe(e.recipe,e.fertilizers,{ignore:Object(v.a)({},t),accuracy:n,solution_volume:r,solution_concentration:a}),!c||!o){s.next=31;break}return s.next=14,Object(G.e)((function(e){return e.calculator.toppingUpResult}));case 14:return u=s.sent,l=Object(oe.b)({currentSolution:o.currentSolution,newSolution:Object(v.a)({},o.newSolution,{EC:Object(oe.f)(Object(v.a)({},Object(oe.d)(),{},e.recipe)).EC})}),s.next=18,Object(G.d)(Object($.n)(l));case 18:if(f=!1,l.volume===r){s.next=23;break}return s.next=22,Object(G.d)(Object(Y.a)(X.m,"solution_volume",l.volume));case 22:f=!0;case 23:if(l.concentration===a.k){s.next=27;break}return s.next=26,Object(G.d)(Object(Y.a)(X.m,"solution_concentration",l.concentration));case 26:f=!0;case 27:if(l.volume===u.volume&&l.concentration===u.concentration||(f=!0),!f){s.next=31;break}return s.next=31,Object(G.d)(Object($.b)());case 31:return s.next=33,Object(G.d)(Object($.c)(i));case 33:case"end":return s.stop()}}),ve)}function xe(e){var t,n,r,a;return W.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(G.e)((function(e){return e.calculator.calculationForm}));case 2:if(t=c.sent,n=Object(ae.i)((null===t||void 0===t?void 0:t.fertilizers)||[],e.payload,"id"),r=Object(N.a)(n,2),a=r[0],!r[1]){c.next=7;break}return c.next=7,Object(G.d)(Object($.m)(Object(v.a)({},t,{fertilizers:a})));case 7:case"end":return c.stop()}}),je)}function Se(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.f)(X.d,xe);case 2:case"end":return e.stop()}}),pe)}function ke(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.f)(X.h,ye);case 2:case"end":return e.stop()}}),he)}function Me(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.f)(X.b,we);case 2:case"end":return e.stop()}}),ge)}function _e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.f)([q.J.CHANGE,q.J.BLUR,q.J.ARRAY_PUSH,q.J.ARRAY_REMOVE],W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.meta.form!==X.m){e.next=3;break}return e.next=3,Object(G.b)(Ne);case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),Ce)}function Pe(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.a)([Object(G.c)(Se),Object(G.c)(Me),Object(G.c)(_e),Object(G.c)(ke)]);case 2:case"end":return e.stop()}}),Ee)}var He=n(66),Fe=W.a.mark(Ae),ze=W.a.mark(Ke),Re=W.a.mark(Te);function Ae(){var e,t,n;return W.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(G.e)(Object(V.a)(He.a));case 2:if(!(e=r.sent).composition_enable){r.next=11;break}if(n=Object(ie.e)({id:"",composition:e.composition},!1).elements,Object(ae.c)(e.npk,n)){r.next=8;break}return r.next=8,Object(G.d)(Object(Y.a)(He.a,"npk",n));case 8:if(null===(t=e.composition)||void 0===t?void 0:t.length){r.next=11;break}return r.next=11,Object(G.d)(Object(Y.a)(He.a,"composition",[{formula:""}]));case 11:case"end":return r.stop()}}),Fe)}function Ke(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.f)([q.J.CHANGE,q.J.BLUR,q.J.ARRAY_PUSH,q.J.ARRAY_REMOVE],W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.meta.form!==He.a){e.next=3;break}return e.next=3,Object(G.b)(Ae);case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),ze)}function Te(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.a)([Object(G.c)(Ke)]);case 2:case"end":return e.stop()}}),Re)}var Be=W.a.mark(Le),Ze=[Pe,Te];function Le(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.a)(Ze.map((function(e){return Object(G.c)(e)})));case 2:case"end":return e.stop()}}),Be)}function Ue(e,t){return e}var Ie=[{id:"\u0421\u0443\u043b\u044c\u0444\u0430\u0442 \u043c\u0430\u0433\u043d\u0438\u044f (MgSO4*7H2O)",composition:[{formula:"MgSO4*7H2O",percent:98}]},{id:"\u041d\u0438\u0442\u0440\u0430\u0442 \u0430\u043c\u043c\u043e\u043d\u0438\u044f (NH4NO3)",composition:[{formula:"NH4NO3",percent:98}]},{id:"\u041d\u0438\u0442\u0440\u0430\u0442 \u043a\u0430\u043b\u0438\u044f (KNO3)",composition:[{formula:"KNO3",percent:98}]},{id:"\u0421\u0443\u043b\u044c\u0444\u0430\u0442 \u043a\u0430\u043b\u0438\u044f (K2SO4)",composition:[{formula:"K2SO4",percent:98}]},{id:"\u041c\u043e\u043d\u043e\u0444\u043e\u0441\u0444\u0430\u0442 \u043a\u0430\u043b\u0438\u044f (KH2PO4)",composition:[{formula:"KH2PO4",percent:98}]},{id:"\u041a\u0430\u043b\u044c\u0446\u0438\u0435\u0432\u0430\u044f \u0441\u0435\u043b\u0438\u0442\u0440\u0430 4-\u0432. (Ca(NO3)2*4H2O)",composition:[{formula:"Ca(NO3)2*4H2O",percent:98}]},{id:"\u0421\u0443\u043b\u044c\u0444\u0430\u0442 \u0430\u043c\u043c\u043e\u043d\u0438\u044f (NH4)2SO4)",composition:[{formula:"(NH4)2SO4",percent:98}]},{id:"\u041c\u0430\u0433\u043d\u0438\u0435\u0432\u0430\u044f \u0441\u0435\u043b\u0438\u0442\u0440\u0430 6-\u0432. (Mg(NO3)2*6\u041d2\u041e)",composition:[{formula:"Mg(NO3)2*6\u041d2\u041e",percent:98}]},{id:"\u0425\u043b\u043e\u0440\u0438\u0434 \u043a\u0430\u043b\u044c\u0446\u0438\u044f 6-\u0432. (CaCl2*6H2O)",composition:[{formula:"CaCl2*6H2O",percent:98}]}],De=n(67),Je={calculationForm:null,toppingUpResult:null,result:null,process:!1,error:!1,fertilizers:Ie,recipes:De.b},We=n(116),Ge=Object(I.c)({calculator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X.n:return Object(v.a)({},e,{calculationForm:t.form});case X.b:return Object(v.a)({},e,{process:!0});case X.c:return Object(v.a)({},e,{process:!1,result:t.result});case X.a:return Object(v.a)({},e,{process:!1,error:!0});case X.o:return Object(v.a)({},e,{toppingUpResult:t.result});case X.d:return Object(v.a)({},e,{fertilizers:Object(ae.j)(e.fertilizers,t.payload,"id")});case X.e:return Object(v.a)({},e,{fertilizers:e.fertilizers.filter((function(e){return t.payload.id!==e.id}))});case X.g:return Object(v.a)({},e,{fertilizers:t.payload});case X.f:return Object(v.a)({},e,{fertilizers:Object(ee.a)(Ie)});case X.j:return Object(v.a)({},e,{recipes:Object(ae.j)(e.recipes,t.payload,"name")});case X.k:return Object(v.a)({},e,{recipes:e.recipes.filter((function(e){return t.payload.name!==e.name}))});case X.l:return Object(v.a)({},e,{recipes:Object(ee.a)(De.b)});case X.h:return Object(v.a)({},e);case X.i:return Object(v.a)({},e,{},t.payload);default:return Ue(e)}},form:We.a}),Ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.d,Ye=Object(D.a)();var qe=function(){var e,t,n={};return localStorage.getItem("reduxState")&&((null===(e=n=JSON.parse(localStorage.getItem("reduxState")))||void 0===e?void 0:e.calculator)&&!n.calculator.fertilizers&&(n.calculator.fertilizers=Ie),(null===(t=n)||void 0===t?void 0:t.calculator)&&!n.calculator.recipes&&(n.calculator.recipes=De.b)),n}(),Xe=[Ye],$e=Ve(I.a.apply(void 0,Xe)),Qe=Object(I.e)(Ge,qe,$e);Qe.subscribe((function(){localStorage.setItem("reduxState",JSON.stringify(Qe.getState()))})),Ye.run(Le),o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(U,{store:Qe})),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/pwa-sw.js");i?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):u(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):u(t,e)}))}}()},26:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return O}));var r=n(58),a=n(7),c=n(5),o=n(2),i=n(61),u=n(4),l=n(21);function f(e,t){return{id:e,composition:Object(o.b)(t).filter((function(e){return e[1]>0})).map((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1],a=n;return u.e.hasOwnProperty(n)&&(a=u.e[n]),{formula:a,percent:r}}))}}function s(e){var t,n=Object(l.d)(),u=Object(a.a)(e);try{for(u.s();!(t=u.n()).done;){var f,s=t.value,b=Object(i.b)(s.formula),d=Object(i.a)(b),O=Object(a.a)(Object(o.b)(d));try{for(O.s();!(f=O.n()).done;){var m=Object(c.a)(f.value,2),v=m[0],j=m[1],p=Object(r.a)({},v,1);"N"===v&&(p=Object(i.c)(s.formula),Object(o.d)(n).includes(s.formula)&&(j=1));var h,g=Object(o.f)(Object(o.k)(p)),C=Object(a.a)(Object(o.b)(p));try{for(C.s();!(h=C.n()).done;){var E=Object(c.a)(h.value,2),y=E[0],N=E[1];if(n.hasOwnProperty(y)){var w=100;s.percent&&(w=s.percent),w*=N/g,n[y]+=w*j}}}catch(M){C.e(M)}finally{C.f()}}}catch(M){O.e(M)}finally{O.f()}}}catch(M){u.e(M)}finally{u.f()}var x,S=Object(a.a)(Object(o.d)(n));try{for(S.s();!(x=S.n()).done;){var k=x.value;n[k]&&(n[k]=Object(o.e)(n[k],3))}}catch(M){S.e(M)}finally{S.f()}return n}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Object(o.b)(e).map((function(e){var n=Object(c.a)(e,2),r=n[0],a=n[1],l=u.e[r]||r,f=Object(i.a)(Object(i.b)(l)),s=f.hasOwnProperty("N")||f.hasOwnProperty("S"),b=f[r];if(!s&&b){var d=Object(o.e)(Object(o.f)(Object(o.k)(f))/b,t);a=Object(o.e)(a*d,t)}return[r,a]}));return Object.fromEntries(n)}function d(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(l.d)(),r=e.composition;return e.npk&&(r=f(e.id,e.npk).composition),r&&(n=s(r)),t||(n=b(n)),{id:e.id,elements:n}}function O(e,t){var n,r=Object.fromEntries(t.fertilizer_weights.map((function(e){return[e.id,e]}))),i=Object(o.f)(t.fertilizer_weights.map((function(e){return e.weight}))),u=Object(l.d)(),f={},s=Object(a.a)(t.fertilizers);try{for(s.s();!(n=s.n()).done;){var O=n.value;if(null===r||void 0===r?void 0:r[O.id]){var m,v=null===r||void 0===r?void 0:r[O.id],j=d(O),p=Object(a.a)(Object(o.b)(j.elements));try{for(p.s();!(m=p.n()).done;){var h=Object(c.a)(m.value,2),g=h[0],C=h[1];C>0&&(u[g]+=v.weight*(C/100))}}catch(S){p.e(S)}finally{p.f()}}}}catch(S){s.e(S)}finally{s.f()}var E,y=Object(a.a)(Object(o.b)(u));try{for(y.s();!(E=y.n()).done;){var N=Object(c.a)(E.value,2),w=N[0],x=N[1];x>0&&(f[w]=100*x/i)}}catch(S){y.e(S)}finally{y.f()}return{id:e,npk:b(f,3),solution_concentration:i/(t.volume||1)}}},4:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i}));var r={H:1.008,He:4.0026022,Li:6.94,Be:9.01218315,B:10.81,C:12.011,N:14.007,O:15.999,F:18.9984031636,Ne:20.17976,Na:22.989769282,Mg:24.305,Al:26.98153857,Si:28.085,P:30.9737619985,S:32.065,Cl:35.45,K:39.09831,Ar:39.9481,Ca:40.0784,Sc:44.9559085,Ti:47.8671,V:50.94151,Cr:51.99616,Mn:54.9380443,Fe:55.8452,Ni:58.69344,Co:58.9331944,Cu:63.5463,Zn:65.382,Ga:69.7231,Ge:72.6308,As:74.9215956,Se:78.9718,Br:79.904,Kr:83.7982,Rb:85.46783,Sr:87.621,Y:88.905842,Zr:91.2242,Nb:92.906372,Mo:95.951,Tc:98,Ru:101.072,Rh:102.905502,Pd:106.421,Ag:107.86822,Cd:112.4144,In:114.8181,Sn:118.7107,Sb:121.7601,I:126.904473,Te:127.603,Xe:131.2936,Cs:132.905451966,Ba:137.3277,La:138.905477,Ce:140.1161,Pr:140.907662,Nd:144.2423,Pm:145,Sm:150.362,Eu:151.9641,Gd:157.253,Tb:158.925352,Dy:162.5001,Ho:164.930332,Er:167.2593,Tm:168.934222,Yb:173.0451,Lu:174.96681,Hf:178.492,Ta:180.947882,W:183.841,Re:186.2071,Os:190.233,Ir:192.2173,Pt:195.0849,Au:196.9665695,Hg:200.5923,Tl:204.38,Pb:207.21,Bi:208.980401,Po:209,At:210,Rn:222,Fr:223,Ra:226,Ac:227,Pa:231.035882,Th:232.03774,Np:237,U:238.028913,Am:243,Pu:244,Cm:247,Bk:247,Cf:251,Es:252,Fm:257,Md:258,No:259,Lr:266,Rf:267,Db:268,Sg:269,Hs:269,Bh:270,Mt:278,Ds:281,Rg:282,Cn:285,Nh:286,Fl:289,Mc:289,Lv:293,Ts:294,Og:294,Uue:315},a=["NO3","NH4","P","K","Ca","Mg","S","Cl"],c=["Fe","Mn","B","Zn","Cu","Mo","Co","Si"],o=[].concat(a,c),i=(r.N,r.N,r.P,r.K,r.Ca,r.Mg,r.S,r.Cl,r.Na,{NO3:"NO3",NH4:"NH4",P:"P2O5",K:"K2O",Ca:"CaO",Mg:"MgO"})},44:function(e,t,n){"use strict";n.d(t,"m",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return s})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return O})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return v})),n.d(t,"n",(function(){return j}));var r=n(10),a=function(e){return{type:r.n,form:e}},c=function(){return{type:r.b}},o=function(e){return{type:r.c,result:e}},i=function(){return{type:r.a}},u=function(e){return{type:r.d,payload:e}},l=function(e){return{type:r.e,payload:e}},f=function(e){return{type:r.g,payload:e}},s=function(){return{type:r.f}},b=function(e){return{type:r.j,payload:e}},d=function(e){return{type:r.k,payload:e}},O=function(){return{type:r.l}},m=function(e){return{type:r.h,payload:e}},v=function(e){return{type:r.i,payload:e}},j=function(e){return{type:r.o,result:e}}},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return j})),n.d(t,"g",(function(){return p}));var r=n(7),a=n(5),c=n(8),o=n(2),i=n(4),u=n(104),l=n(26),f=n(80);function s(e){return{cations:(e.NH4||0)/i.a.N+(e.K||0)/i.a.K+2*(e.Ca||0)/i.a.Ca+2*(e.Mg||0)/i.a.Mg,anions:(e.NO3||0)/i.a.N+(e.P||0)/i.a.P+2*(e.S||0)/i.a.S+(e.Cl||0)/i.a.Cl}}function b(e){var t=s(e).cations;return Object(o.e)(.095*t+.19,3)}function d(e){var t=s(e);return Object(o.e)(t.cations-t.anions,3)}function O(e){var t=i.a.N,n=i.a.N,r=i.a.P,a=i.a.K,c=i.a.Ca,u=i.a.Mg,l=i.a.S,f=i.a.Cl,s=e.NH4||0,b=e.NO3||0,d=e.P||0,O=e.K||0,m=e.Ca||0,v=(-c*f*a*u*t*n*l*d-c*f*a*u*t*r*l*b+c*f*a*u*n*r*l*s+2*c*f*a*t*n*r*l*(e.Mg||0)+c*f*u*t*n*r*l*O-c*a*u*t*n*r*l*(e.Cl||0)+2*f*a*u*t*n*r*l*m)/(2*c*f*a*u*t*n*r);return Object(o.e)(v,3)}function m(e){var t=i.a.N,n=i.a.N,r=i.a.P,a=i.a.K,c=i.a.Ca,u=i.a.Mg,l=i.a.S,f=i.a.Cl,s=e.NH4||0,b=e.NO3||0,d=e.P||0,O=e.K||0,m=e.Mg||0,v=(2*c*f*a*u*t*n*r*(e.S||0)+c*f*a*u*t*n*l*d+c*f*a*u*t*r*l*b-c*f*a*u*n*r*l*s-2*c*f*a*t*n*r*l*m-c*f*u*t*n*r*l*O+c*a*u*t*n*r*l*(e.Cl||0))/(2*f*a*u*t*n*r*l);return Object(o.e)(v,3)}function v(e,t,n){var r=n||Object(f.e)(e),u=r.K.N,l=r.K.Mg,s=r.K.Ca,b=r.NH4.NO3,d=s*l/(s*l*u+s*l+s*u+l*u),m=b*d/(b+1),v=d/(b+1),j=s*l*u/(s*l*u+s*l+(s*u+l*u)),p=l*u/(s*l*u+s*l+s*u+l*u),h=s*u/(s*l*u+s*l+s*u+l*u),g=i.a.N,C=i.a.K,E=i.a.Ca,y=i.a.Mg,N=(200*t*E*C*y*g-38*E*C*y*g)/(19*E*C*y*m+38*E*C*g*h+19*E*y*g*j+38*C*y*g*p),w=Object(c.a)({},e,{NH4:m*N,NO3:v*N,K:j*N,Ca:p*N,Mg:h*N});return w.S=O(w),Object.fromEntries(Object(o.b)(w).map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return[n,Object(o.e)(r,1)]})))}function j(e){for(var t={},n=u.a.parseProfileStringToObject(e),c=0,f=Object.entries(n);c<f.length;c++){var s=Object(a.a)(f[c],2),b=s[0],d=s[1];if(Number.isFinite(d))if("N"===b&&(b="NO3"),i.b.includes(b))t[b]=d;else{var O,m=Object(l.c)([{percent:d,formula:b}]),v=Object(r.a)(Object(o.b)(m));try{for(v.s();!(O=v.n()).done;){var j=Object(a.a)(O.value,2),p=j[0],h=j[1];h&&(t[p]=(t[p]||0)+h)}}catch(g){v.e(g)}finally{v.f()}}}return Object(l.d)(t)}function p(e){var t=i.b.map((function(t){if(e[t]){var n=t;return i.e.hasOwnProperty(t)&&(n=i.e[t]),"".concat(n,"=").concat(e[t])}})).filter((function(e){return e})).join(" ");return"".concat(t)}},61:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return d}));var r=n(5),a=n(7),c=n(2),o=n(4),i=function(e){var t,n,r=[],c="",o="",i=0,u=function(){if(c){var e=parseInt(o||"1",10);r.push({formula:c,count:e}),c="",o=""}},l=-1,f=Object(a.a)(e);try{for(f.s();!(n=f.n()).done;){var s=n.value;if(l++,/[A-Za-z]/.test(s))t&&(u(),t=!1),c+=s;else if("("===s)0===i&&c&&u(),i>0&&(c+=s),i+=1;else if(")"===s)0===(i-=1)?t=!0:c+=s;else if(/[*+]/.test(s))0===i&&c&&(u(),t=!1),i>0&&(c+=s),i+=1;else if(/\d/.test(s))if(t)o+=s;else if(c){if(0===l){o+=s;continue}c+=s}else o+=s}}catch(b){f.e(b)}finally{f.f()}return u(),r},u=function e(t){if(!t)return{};var n=i(t);if(1===n.length&&n[0].formula===t)return function(e){var t={},n=e.match(l);if(!n)return t;var r,c=Object(a.a)(n);try{for(c.s();!(r=c.n()).done;){var i=r.value.match(f);if(i){var u=i[1],s=parseInt(i[2]||"1",10);if(o.a.hasOwnProperty(u)){var b=u;t[b]=u in t?(t[b]||0)+s:s}}}}catch(d){c.e(d)}finally{c.f()}return t}(t);var r={};return n.forEach((function(t){var n,a=e(t.formula);for(var c in a)if(o.a.hasOwnProperty(c)){var i=c;n=(a[i]||0)*t.count,r[i]=c in r?(r[i]||0)+n:n}})),r},l=/([A-Z][a-z]{0,2})(\d*)/g,f=/([A-Z][a-z]{0,2})(\d*)/;function s(e){return u(e)}function b(e){var t,n={NH4:0,NO3:0},o=/NH4|NO3|NH2/g,u=Object(a.a)(i(e));try{for(u.s();!(t=u.n()).done;){var l=t.value,f=l.formula;if("NH2"===f&&(f="NH4"),n.hasOwnProperty(f))n[f]+=l.count;else if(f!==e){var s,d=Object(a.a)(Object(c.b)(b(f)));try{for(d.s();!(s=d.n()).done;){var O=Object(r.a)(s.value,2),m=O[0],v=O[1];n[m]+=v}}catch(g){d.e(g)}finally{d.f()}}else{var j,p=Object(a.a)(f.matchAll(o));try{for(p.s();!(j=p.n()).done;){var h=j.value[0];"NH2"===h&&(h="NH4"),n[h]+=l.count}}catch(g){p.e(g)}finally{p.f()}}}}catch(g){u.e(g)}finally{u.f()}return n}function d(e){var t=Object.fromEntries(Object(c.b)(e).map((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return[n,o.a[n]*a]}))),n=Object(c.f)(Object(c.k)(t));return Object.fromEntries(Object(c.b)(t).map((function(e){var t=Object(r.a)(e,2);return[t[0],t[1]/n]})))}},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n(16),a=n(7),c=n(26),o=n(2);function i(e,t){var n,r=l(e.concentration),c=[],i=Object(a.a)(t);try{for(i.s();!(n=i.n()).done;){var u=n.value,f=l(u.concentration);c.push({id:u.id,volume:Object(o.e)(e.volume/f.k*r.k,4)})}}catch(s){i.e(s)}finally{i.f()}return c}function u(e){var t,n={},o=Object(a.a)(e);try{for(o.s();!(t=o.n()).done;){var i=t.value,u=Object(c.e)(i);u.elements.NO3?n.A=[].concat(Object(r.a)(n.A||[]),[i]):u.elements.S||u.elements.P?n.B=[].concat(Object(r.a)(n.B||[]),[i]):n.C=[].concat(Object(r.a)(n.C||[]),[i])}}catch(l){o.e(l)}finally{o.f()}return n}function l(e){if("number"==typeof e)return{k:e,v_1:Object(o.e)(1e3/e,2),v_2:1e3};if(e.v_1)return{k:Object(o.e)((e.v_2||1e3)/e.v_1,2),v_2:e.v_2||1e3,v_1:e.v_1};if(e.k)return{k:e.k,v_2:1e3,v_1:Object(o.e)(1e3/e.k,2)};throw Error("Invalid concentration")}},66:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="fertilizerEdit"},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r={Fe:4.5,Mn:.636,B:.636,Zn:.384,Cu:.069,Mo:.069},a=[{name:"\u041f\u0435\u0440\u0435\u0446 \u041c\u0438\u043d\u0432\u0430\u0442\u0430 \u0411\u0430\u0437\u043e\u0432\u044b\u0439",elements:{NO3:224,NH4:14,P:39,K:264,Ca:200,Mg:36,S:56,Cl:0,Fe:.84,Mn:.55,Zn:.33,B:.32,Cu:.06,Mo:.05}},{name:"\u041f\u0435\u0440\u0435\u0446 \u041c\u0438\u043d\u0432\u0430\u0442\u0430 \u0421\u0442\u0430\u0440\u0442",elements:{NO3:224,NH4:0,P:8,K:264,Ca:200,Mg:36,S:56,Cl:0,Fe:.84,Mn:.55,Zn:.33,B:.32,Cu:.06,Mo:.05}},{name:"\u041f\u0435\u0440\u0435\u0446 \u041c\u0438\u043d\u0432\u0430\u0442\u0430 \u0416\u0430\u0440\u0430",elements:{NO3:224,NH4:7,P:39,K:225,Ca:220,Mg:43,S:56,Cl:0,Fe:1.4,Mn:.55,Zn:.33,B:.43,Cu:.06,Mo:.05}},{name:"\u041f\u0435\u0440\u0435\u0446 \u041c\u0438\u043d\u0432\u0430\u0442\u0430 \u0417\u0430\u0432\u044f\u0437\u0438",elements:{NO3:238,NH4:14,P:39,K:303,Ca:200,Mg:36,S:56,Cl:0,Fe:.84,Mn:.55,Zn:.33,B:.32,Cu:.06,Mo:.05}},{name:"\u041f\u0435\u0440\u0435\u0446 \u041c\u0438\u043d\u0432\u0430\u0442\u0430 \u041a\u043e\u043d\u0435\u0446",elements:{NO3:224,NH4:14,P:39,K:225,Ca:220,Mg:36,S:56,Cl:0,Fe:.84,Mn:.55,Zn:.33,B:.32,Cu:.06,Mo:.05}},{name:"\u0422\u043e\u043c\u0430\u0442 \u041c\u0438\u043d\u0432\u0430\u0442\u0430 \u0411\u0430\u0437\u043e\u0432\u044b\u0439",elements:{NO3:210,NH4:17,P:46,K:371,Ca:216,Mg:58,S:141,Cl:35,Fe:.84,Mn:.55,Zn:.33,B:.32,Cu:.05,Mo:.05}},{name:"\u0422\u043e\u043c\u0430\u0442 \u041c\u0438\u043d\u0432\u0430\u0442\u0430 \u0421\u0442\u0430\u0440\u0442",elements:{NO3:210,NH4:3,P:15,K:371,Ca:216,Mg:58,S:141,Cl:35,Fe:.84,Mn:.55,Zn:.33,B:.32,Cu:.05,Mo:.05}},{name:"\u0422\u043e\u043c\u0430\u0442 \u041c\u0438\u043d\u0432\u0430\u0442\u0430 \u0416\u0430\u0440\u0430",elements:{NO3:210,NH4:3,P:46,K:332,Ca:236,Mg:70,S:141,Cl:35,Fe:1.4,Mn:.55,Zn:.33,B:.43,Cu:.05,Mo:.05}},{name:"\u0422\u043e\u043c\u0430\u0442 \u041c\u0438\u043d\u0432\u0430\u0442\u0430 \u0417\u0430\u0432\u044f\u0437\u0438",elements:{NO3:210,NH4:17,P:46,K:430,Ca:196,Mg:52,S:141,Cl:35,Fe:.84,Mn:.55,Zn:.33,B:.32,Cu:.05,Mo:.05}},{name:"\u0422\u043e\u043c\u0430\u0442 \u041c\u0438\u043d\u0432\u0430\u0442\u0430 \u041a\u043e\u043d\u0435\u0446",elements:{NO3:210,NH4:17,P:46,K:332,Ca:236,Mg:58,S:141,Cl:35,Fe:.84,Mn:.55,Zn:.33,B:.32,Cu:.05,Mo:.05}},{name:"\u0417\u0435\u043c\u043b\u044f\u043d\u0438\u043a\u0430 \u041c\u0438\u043d\u0432\u0430\u0442\u0430 \u0411\u0430\u0437\u043e\u0432\u044b\u0439",elements:{NO3:168,NH4:14,P:31,K:188,Ca:144,Mg:36,S:48,Cl:0,Fe:1.68,Mn:.55,Zn:.46,B:.11,Cu:.05,Mo:.05}},{name:"\u0417\u0435\u043c\u043b\u044f\u043d\u0438\u043a\u0430 \u041c\u0438\u043d\u0432\u0430\u0442\u0430 \u0421\u0442\u0430\u0440\u0442",elements:{NO3:193,NH4:14,P:39,K:188,Ca:184,Mg:36,S:48,Cl:0,Fe:2.23,Mn:.82,Zn:.46,B:.22,Cu:.05,Mo:.05}},{name:"\u0417\u0435\u043c\u043b\u044f\u043d\u0438\u043a\u0430 \u041c\u0438\u043d\u0432\u0430\u0442\u0430 \u0417\u0430\u0432\u044f\u0437\u0438",elements:{NO3:189,NH4:7,P:31,K:266,Ca:144,Mg:36,S:48,Cl:0,Fe:1.68,Mn:.55,Zn:.46,B:.11,Cu:.05,Mo:.05}},{name:"\u041e\u0433\u0443\u0440\u0435\u0446 \u041c\u0438\u043d\u0432\u0430\u0442\u0430 \u0411\u0430\u0437\u043e\u0432\u044b\u0439",elements:{NO3:224,NH4:18,P:39,K:313,Ca:160,Mg:33,S:44,Cl:0,Fe:.84,Mn:.55,Zn:.33,B:.27,Cu:.05,Mo:.05}},{name:"\u041e\u0433\u0443\u0440\u0435\u0446 \u041c\u0438\u043d\u0432\u0430\u0442\u0430 \u0421\u0442\u0430\u0440\u0442",elements:{NO3:224,NH4:4,P:8,K:313,Ca:160,Mg:33,S:44,Cl:0,Fe:.84,Mn:.55,Zn:.33,B:.27,Cu:.05,Mo:.05}},{name:"\u041e\u0433\u0443\u0440\u0435\u0446 \u041c\u0438\u043d\u0432\u0430\u0442\u0430 \u0416\u0430\u0440\u0430",elements:{NO3:224,NH4:11,P:39,K:274,Ca:180,Mg:39,S:44,Cl:0,Fe:1.4,Mn:.55,Zn:.33,B:.38,Cu:.05,Mo:.05}},{name:"\u041e\u0433\u0443\u0440\u0435\u0446 \u041c\u0438\u043d\u0432\u0430\u0442\u0430 \u0417\u0430\u0432\u044f\u0437\u0438",elements:{NO3:238,NH4:18,P:39,K:352,Ca:160,Mg:33,S:44,Cl:0,Fe:.84,Mn:.55,Zn:.33,B:.27,Cu:.05,Mo:.05}},{name:"\u041e\u0433\u0443\u0440\u0435\u0446 \u041c\u0438\u043d\u0432\u0430\u0442\u0430 \u041c\u0438\u043d\u0432\u0430\u0442\u0430 \u041a\u043e\u043d\u0435\u0446",elements:{NO3:224,NH4:18,P:39,K:274,Ca:180,Mg:33,S:44,Cl:0,Fe:.84,Mn:.55,Zn:.33,B:.27,Cu:.05,Mo:.05}}]},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return m}));var r=n(8),a=n(5),c=n(7),o=n(16),i=n(2),u=n(4),l=n(21),f=n(52),s=["N"].concat(Object(o.a)(u.c));function b(e){var t,n={},r=Object(c.a)(Object(i.b)(e));try{for(r.s();!(t=r.n()).done;){var o=Object(a.a)(t.value,2),u=o[0],l=o[1];s.includes(u)&&(n[u]=l)}}catch(f){r.e(f)}finally{r.f()}return n.N=(e.NH4||0)+(e.NO3||0),Object.fromEntries(Object(i.b)(n).map((function(e){var t=Object(a.a)(e,2),r=t[0],c=t[1];return[r,Object.fromEntries(Object(i.b)(n).map((function(e){var t=Object(a.a)(e,2),n=t[0],o=t[1],u=1;return r!==n&&(0===o?u=0:(u=Object(i.e)(c/o,3),isFinite(u)||(u=0))),[n,u]})))]})))}function d(e,t){var n,o=Object(f.a)(e),u=b(e),s=Object(r.a)({},e),d=Object(c.a)(Object(i.b)(t));try{for(d.s();!(n=d.n()).done;){var O,m=Object(a.a)(n.value,2),v=m[0],j=m[1],p=Object(c.a)(Object(i.b)(j));try{for(p.s();!(O=p.n()).done;){var h=Object(a.a)(O.value,2),g=h[0],C=h[1];if(v!==g){if(u[v][g]=C,"N"===v){var E=function(e,t){return e*t}(s[g]||0,C);s.NH4=Object(l.c)(E,u.NH4.NO3),s.NO3=E-s.NH4}else{var y=s[g]||0;"N"===g&&(y=(s.NO3||0)+(s.NH4||0)),s[v]=y*C}}}}catch(N){p.e(N)}finally{p.f()}}}catch(N){d.e(N)}finally{d.f()}return s=Object(f.c)(s,o,u),Object.fromEntries(Object(i.b)(s).map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return[n,Object(i.e)(r,1)]})))}function O(e,t){var n=function(e){var t=Math.min.apply(Math,Object(o.a)(e)),n=e.indexOf(t);return e.map((function(e,r){return n===r?1:Object(i.e)(e/t,1)}))}(t.map((function(t){return"N"===t?(e.NO3||0)+(e.NH4||0):e[t]||0})));return{elements:t,ratio:n,matrix:Object.fromEntries(t.map((function(e,t){return[e,n[t]]}))),display:n.map((function(e){return e.toString()})).join(":")}}var m={"K:N":[1.5,2.5],"N:Ca":[1,2],"K:Ca":[2,3],"K:Mg":[3,5],"Ca:Mg":[4,6],"NH4:NO3":[5,20],P:[30,60],EC:[1.2,3.5],B:[200,500],Cl:[0,20]}},86:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(5),a=n(95),c=n(0),o=n.n(c),i=n(19),u=n(102),l=Object(c.forwardRef)((function(e,t){var n,l=e.component,f=e.size,s=void 0===f?"1.5em":f,b=(e.children,Object(a.a)(e,["component","size","children"])),d=Object(c.useState)(s||0),O=Object(r.a)(d,2),m=O[0],v=O[1],j=Object(u.a)();return Object(c.useEffect)((function(){var e;!s&&t&&"current"in t&&v((null===(e=t.current)||void 0===e?void 0:e.offsetWidth)||0)}),[t,v,s]),o.a.createElement(i.a,Object.assign({},b,{ref:t}),o.a.createElement(l,{color:null===(n=j.colors)||void 0===n?void 0:n.text,size:m}))}))}},[[180,2,3]]]);
//# sourceMappingURL=main.564874fc.chunk.js.map