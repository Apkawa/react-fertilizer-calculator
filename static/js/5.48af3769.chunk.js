(this["webpackJsonpfertilizer-calculator"]=this["webpackJsonpfertilizer-calculator"]||[]).push([[5],{247:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(11),r=n(84),c=n(0),l=n.n(c),i=n(233),o=n(38),u=n(49),m=n(269),f=l.a.createContext({}),d=function(e){var t=e.children;return l.a.createElement(o.d,{padding:2,sx:{position:"relative",zIndex:1,"&::before":{backgroundColor:"highlight",content:'""',position:"absolute",left:0,top:0,opacity:0,width:"100%",height:"100%",zIndex:-1},"&:hover::before":{opacity:.1}}},t)};function s(e){var t=e.value,n=e.index,a=Object(c.useContext)(f);return l.a.createElement(o.a,{onClick:function(){a.onItemClick&&a.onItemClick(t)}},l.a.createElement(d,null,a.renderItem?l.a.createElement(a.renderItem,{item:t,index:n}):t+""))}function b(e){var t=e.items,n=Object(c.useRef)(),r=Object(c.useState)(0),i=Object(a.a)(r,2),u=i[0],m=i[1];return Object(c.useEffect)((function(){var e;m((null===n||void 0===n||null===(e=n.current)||void 0===e?void 0:e.offsetHeight)||0)}),[n]),l.a.createElement(o.c,{backgroundColor:"background",padding:0,maxHeight:5*u,overflowY:"auto",sx:{zIndex:3}},l.a.createElement(o.d,{flexDirection:"column"},Array.from(t).map((function(e,a){return l.a.createElement(o.a,{ref:0===a?n:null},l.a.createElement(s,{value:e,index:a,key:a}),a<t.length-1?l.a.createElement("hr",{style:{margin:0}}):null)}))))}function E(){var e=Object(r.a)(["\n  color: ",";\n  height: 3rem;\n  opacity: 0.5;\n  \n  &:hover {\n    opacity: 0.7;\n  }\n"]);return E=function(){return e},e}var v=Object(u.default)(m.a)(E(),(function(e){return e.theme.colors.text}));function j(e){var t=e.width,n=function(t){return e.renderValue?e.renderValue(t):(t||"")+""},r=Object(c.useState)(!1),u=Object(a.a)(r,2),m=u[0],d=u[1],s=Object(c.useState)(e.value||null),E=Object(a.a)(s,2),j=E[0],p=E[1],O=Object(c.useState)(n(e.value||null)),g=Object(a.a)(O,2),h=g[0],x=g[1],y=Object(c.useState)(!1),C=Object(a.a)(y,2),w=C[0],z=C[1],k=Object(c.useRef)();Object(c.useEffect)((function(){function e(e){k.current&&!k.current.contains(e.target)&&d(!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[k]);var I=function(t){p(t),x(n(t)),e.onChange&&e.onChange(t),z(!1),d(!1)},S={onItemClick:I,renderItem:e.renderItem};return l.a.createElement(f.Provider,{value:S},l.a.createElement(o.d,{flexDirection:"column",width:t,ref:k},l.a.createElement(o.d,{sx:{position:"relative"}},l.a.createElement(i.b,{value:h,onChange:function(e){var t=e.target.value;x(t),z(!0),d(!1)},onKeyDown:function(t){t.stopPropagation(),"Enter"===t.key&&e.onEdit&&e.onEdit(h),"Escape"===t.key&&I(j)},onBlur:function(){w&&h&&e.onEdit&&e.onEdit(h)}}),l.a.createElement(o.a,{sx:{position:"absolute",right:0}},l.a.createElement(v,{onClick:function(){return d(!m)}}))),l.a.createElement(o.d,{sx:{position:"relative"}},l.a.createElement(o.d,{sx:{position:"absolute"},flexDirection:"column",width:"100%"},m&&l.a.createElement(b,{items:e.items})))))}},423:function(e,t){},425:function(e,t){},468:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),l=n(38),i=n(436),o=n(8),u=n(388),m=n(53),f=n(26),d=n(11),s=n(239),b=n(387),E=Object(a.forwardRef)((function(e,t){var n,c=e.component,i=e.size,o=void 0===i?"1.5em":i,u=e.children,m=Object(s.a)(e,["component","size","children"]),f=Object(a.useState)(o||0),E=Object(d.a)(f,2),v=E[0],j=E[1],p=Object(b.a)();return Object(a.useEffect)((function(){var e;!o&&t&&"current"in t&&j((null===(e=t.current)||void 0===e?void 0:e.offsetWidth)||0)}),[t,j,o]),r.a.createElement(l.b,Object.assign({type:"button"},m,{ref:t}),r.a.createElement(c,{color:null===(n=p.colors)||void 0===n?void 0:n.background,size:v}),u)})),v=n(3),j=function(e){var t=e.name,n=e.value,a=e.delta;return r.a.createElement(l.a,{bg:t,flex:1,mx:"2px",px:1,color:"black",minWidth:"2.1em",maxWidth:"3em",fontSize:1},r.a.createElement(l.d,{flexDirection:"column",alignItems:"center"},r.a.createElement(l.a,null,t),r.a.createElement(l.a,null,Object(v.d)(n,1)),"undefined"!==typeof a?r.a.createElement(l.a,null,a):null))},p=function(e){var t=e.item,n=e.onRemove,a=e.needWeight,c=Object(m.b)(t,!1);return r.a.createElement(l.c,{width:"auto"},r.a.createElement(l.d,{justifyContent:"space-between",alignItems:"center"},r.a.createElement(l.a,{flex:1},r.a.createElement(l.f,{flex:1},t.id),r.a.createElement(l.d,null,f.b.map((function(e){var t=c.elements[e];return t?r.a.createElement(j,{name:e,key:e,value:t}):null})))),r.a.createElement(l.d,null,r.a.createElement(l.d,{alignItems:"center",justifyContent:"center",margin:1},r.a.createElement(l.f,{textAlign:"center",minWidth:"3em"},a||0)),r.a.createElement(E,{padding:1,alignSelf:"center",component:u.a,onClick:function(){return n()}}))))},O=n(247),g=n(389),h=n(80),x=n(55),y=n(64),C=n(233),w=function(e){var t=e.name,n=e.disabled,c=Object(a.useState)(e.value),i=Object(d.a)(c,2),o=i[0],u=i[1];Object(a.useEffect)((function(){u(e.value)}),[e.value]);return r.a.createElement(l.d,{flexDirection:"column",justifyContent:"center",alignItems:"center",width:"4rem"},r.a.createElement("label",{style:{textAlign:"center"}},t),r.a.createElement(C.b,{maxLength:2,pattern:"^\\d+$",autoComplete:"off",width:"3rem",value:o.toString(),disabled:n,onChange:function(e){return function(e){var t=parseInt(e);u(t)}(e.target.value)},onBlur:function(){e.onChange&&e.onChange(o)},style:{textAlign:"center"}}))},z=function(e){return Object(m.b)(e,!1).elements},k=function(e){var t=e.fertilizer,n=e.allowEdit,i=void 0===n||n,o=Object(a.useState)(t&&z(t)),u=Object(d.a)(o,2),s=u[0],b=u[1];return Object(a.useEffect)((function(){b(t&&z(t))}),[t]),r.a.createElement(l.d,null,r.a.createElement(l.d,null,f.b.map((function(n){return r.a.createElement(w,{disabled:!i,name:n,value:(null===s||void 0===s?void 0:s[n])||0,onChange:function(a){return function(n,a){if(s&&t){var r=Object(c.a)({},s,Object(y.a)({},n,a)),l=Object(m.a)(t.id,r);b(r),e.onChange(l)}}(n,a)}})}))))},I=function(e){var t=e.onAdd,n=Object(h.d)((function(e){return e.calculator})).fertilizers,c=Object(a.useState)(n[0]),i=Object(d.a)(c,2),o=i[0],u=i[1],f=Object(a.useState)(!1),s=Object(d.a)(f,2),b=s[0],v=s[1],j=Object(h.c)();return r.a.createElement(l.c,null,r.a.createElement(l.d,{flexDirection:"column"},r.a.createElement(l.d,{justifyContent:"space-between"},r.a.createElement(l.a,{flex:1,pr:2},r.a.createElement(O.a,{value:o,items:n,onChange:function(e){e&&u(e),v(!1)},onEdit:function(e){var t=Object(m.a)(e,o?z(o):{});u(t)},renderItem:function(e){var t=e.item;return r.a.createElement(l.d,{flex:1,justifyContent:"space-between"},r.a.createElement(l.a,null,t.id),r.a.createElement("button",{onClick:function(e){e.stopPropagation(),function(e){j(Object(x.e)(e))}(t)}},"-"))},renderValue:function(e){return(null===e||void 0===e?void 0:e.id)||""}})),r.a.createElement(E,{onClick:function(){if(o){var e=Object(m.a)(o.id,z(o));t(e),b&&j(Object(x.d)(o)),v(!1)}},component:g.a})),r.a.createElement(k,{fertilizer:o,onChange:function(e){u(e),v(!0)}})))},S=n(110),_=n(98),D=n(69);function A(){var e=Object(a.useContext)(S.a).form,t=Object(h.c)();return[Object(h.d)((function(t){return Object(_.a)(e)(t)})),function(n,a){t(Object(D.a)(e,n,a))}]}var R=function(e){var t=e.fields,n=e.meta.error,a=A()[0].fertilizers,c=Object(h.d)((function(e){return e.calculator})).result,i=Object.fromEntries(((null===c||void 0===c?void 0:c.fertilizers)||[]).map((function(e){return[e.id,e.base_weight]})));return r.a.createElement(l.d,{sx:{flexDirection:"column"},width:"auto"},r.a.createElement(I,{onAdd:function(e){var n,r=Object(o.a)(a);try{for(r.s();!(n=r.n()).done;){if(n.value.id===e.id)return}}catch(c){r.e(c)}finally{r.f()}t.push(e)}}),r.a.createElement(l.d,{sx:{flexDirection:"column","& > *":{marginTop:"8px !important"}}},n?r.a.createElement("span",null,n):null,a.map((function(e,n){return r.a.createElement(p,{item:e,key:e.id,needWeight:i[e.id],onRemove:function(){return t.remove(n)}})}))))},F=n(134);var N=function(){return r.a.createElement(F.a,{name:"fertilizers",component:R,validate:(e="\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0434\u043e\u0431\u0440\u0435\u043d\u0438\u044f",e=e||"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e",function(t){if(!t||!(null===t||void 0===t?void 0:t.length))return e})});var e},W=n(133),L=function(e){var t=e.input,n=e.label,a=Object(s.a)(e,["input","label"]);return r.a.createElement(C.c,null,r.a.createElement(C.a,Object.assign({},a,t,{checked:t.value})),n)},K=function(e){var t=e.name,n=Object(s.a)(e,["name"]);return r.a.createElement(W.a,Object.assign({component:L,name:t},n))},H=function(){return r.a.createElement(l.c,null,r.a.createElement(l.d,{flexDirection:"column"},r.a.createElement(l.e,{fontSize:2},"\u0418\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement(K,{name:"ignore_Ca",label:"\u041a\u0430\u043b\u044c\u0446\u0438\u0439"}),r.a.createElement(K,{name:"ignore_Mg",label:"\u041c\u0430\u0433\u043d\u0438\u0439"}),r.a.createElement(K,{name:"ignore_S",label:"\u0421\u0435\u0440\u0430"})))},T=function(e){var t=e.input,n=e.label,a=(e.value,Object(s.a)(e,["input","label","value"]));return r.a.createElement(C.c,null,r.a.createElement(C.d,Object.assign({},a,t)),n)},B=function(e){var t=e.name,n=e.value,a=e.normalize,c=void 0===a?function(e){return e.toString()}:a,l=Object(s.a)(e,["name","value","normalize"]);return r.a.createElement(W.a,Object.assign({component:T,name:t,normalize:c,type:"radio",value:c(n)},l))};function P(e){return e&&parseInt(e)}function M(e){return e&&parseFloat(e)}var V=[.2,.1,.05,.01],U=function(){return r.a.createElement(l.c,null,r.a.createElement(l.d,{flexDirection:"column"},r.a.createElement(l.e,{fontSize:2},"\u0422\u043e\u0447\u043d\u043e\u0441\u0442\u044c"),V.map((function(e){return r.a.createElement(B,{name:"accuracy",value:e,label:"".concat(e," \u0433."),normalize:M})}))))},$=function(e){var t=e.input,n=e.label,a=e.type,l=void 0===a?"text":a,i=Object(s.a)(e,["input","label","type"]);return r.a.createElement(C.b,Object.assign({},i,t,{sx:Object(c.a)({},t.sx,{"::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0},"::-webkit-outer-spin-button":{"-webkit-appearance":"none",margin:0}}),type:l,placeholder:n}))},J=function(e){var t=e.name,n=Object(s.a)(e,["name"]);return r.a.createElement(W.a,Object.assign({component:$,name:t},n))},Y=function(){return r.a.createElement(l.c,null,r.a.createElement(l.e,{fontSize:2},"\u0420\u0430\u0441\u0442\u0432\u043e\u0440"),r.a.createElement(l.d,{flexDirection:"column"},r.a.createElement(l.d,{alignItems:"center",justifyContent:"space-between"},r.a.createElement(C.c,{htmlFor:"solution_volume"},"\u041e\u0431\u044a\u0435\u043c, \u043b"),r.a.createElement(J,{name:"solution_volume",width:"3rem",type:"number",step:"1",min:"1",pattern:"^\\d+$",normalize:P,style:{textAlign:"center"},autoComplete:"off"})),r.a.createElement(l.d,{alignItems:"center",justifyContent:"space-between",paddingTop:2},r.a.createElement(C.c,{htmlFor:"solution_concentration"},"\u041a\u043e\u043d\u0446\u0435\u043d\u0442\u0440\u0430\u0446\u0438\u044f, 1/100%"),r.a.createElement(J,{name:"solution_concentration",width:"3rem",type:"number",step:"0.1",min:"0",max:"999",normalize:M,style:{textAlign:"center"},autoComplete:"off"}))))},q=n(10),G=function(){var e=Object(h.d)(Object(_.a)(q.j)).dilution_enabled;return r.a.createElement(l.c,null,r.a.createElement(K,{name:"dilution_enabled",label:"\u0420\u0430\u0437\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0446\u0435\u0442\u0440\u0430\u0442\u0430"}),r.a.createElement(l.d,{flexDirection:"column",style:{display:e?"flex":"none"}},r.a.createElement(l.d,{alignItems:"center",justifyContent:"space-between"},r.a.createElement(C.c,{htmlFor:"dilution_volume"},"\u041e\u0431\u044a\u0435\u043c, \u043b"),r.a.createElement(J,{name:"dilution_volume",width:"3rem",type:"number",step:"1",min:"1",pattern:"^\\d+$",normalize:P,style:{textAlign:"center"},autoComplete:"off"})),r.a.createElement(l.d,{alignItems:"center",justifyContent:"space-between",paddingTop:2},r.a.createElement(C.c,{htmlFor:"dilution_concentration"},"\u041a\u043e\u043d\u0446\u0435\u043d\u0442\u0440\u0430\u0446\u0438\u044f, 1/100%"),r.a.createElement(J,{name:"dilution_concentration",width:"3rem",type:"number",step:"0.1",min:"0",max:"999",normalize:M,style:{textAlign:"center"},autoComplete:"off"}))))},Q=function(){return r.a.createElement(l.d,{flexDirection:"column"},r.a.createElement(l.a,{flex:1},r.a.createElement(l.b,{width:"100%",my:2,type:"submit"},"Calculate")),r.a.createElement(l.a,{my:2},r.a.createElement(Y,null)),r.a.createElement(l.a,{my:2},r.a.createElement(G,null)),r.a.createElement(l.d,{sx:{"& > *":{flex:1}}},r.a.createElement(H,null),r.a.createElement(l.a,{marginLeft:2},r.a.createElement(U,null))))},X=n(84),Z=n(65),ee=n(39),te=n(405),ne=n(404),ae=function(e){return"recipe.".concat(e)},re=function(e){var t=e.name;return r.a.createElement(l.d,{flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:"3rem"},r.a.createElement(l.a,{style:{textAlign:"center"}},t),r.a.createElement(J,{name:ae(t),type:"number",step:"1",min:"0",max:"999",autoComplete:"off",normalize:P,maxWidth:"3rem",style:{textAlign:"center"}}))},ce=function(e){return r.a.createElement(l.d,{flexDirection:"column",m:1,alignItems:"center"},r.a.createElement(l.e,{fontSize:1},e.name),r.a.createElement(l.f,null,e.value))},le=function(){var e=Object(h.d)((function(e){return e.calculator})).recipes,t=void 0===e?[]:e,n=A(),i=Object(d.a)(n,2),o=i[0],u=i[1],m=Object(a.useState)(null===t||void 0===t?void 0:t[0]),s=Object(d.a)(m,2),b=s[0],v=s[1],j=Object(h.c)(),p=Object(ee.a)(o.recipe||Object(ee.c)()),g=function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var a=Object(d.a)(n[t],2),r=a[0],c=a[1];u(ae(r),c)}};return r.a.createElement(l.c,null,r.a.createElement(l.d,{flexDirection:"column"},r.a.createElement(l.d,null,r.a.createElement(l.a,{flex:1,mx:2},r.a.createElement(O.a,{value:b,items:t,onChange:function(e){e&&v(e),e&&g(e.elements)},onEdit:function(e){var t=Object.fromEntries(f.b.map((function(e){return[e,(null===b||void 0===b?void 0:b.elements[e])||0]})));v({name:e,elements:t})},renderItem:function(e){var t=e.item;return r.a.createElement(l.d,{flex:1,justifyContent:"space-between"},r.a.createElement(l.a,{width:3,backgroundColor:t.color||"gray"}),r.a.createElement(l.a,{flex:1,mx:2},t.name),r.a.createElement("button",{onClick:function(e){e.stopPropagation(),function(e){j(Object(x.h)(e))}(t)}},"-"))},renderValue:function(e){return(null===e||void 0===e?void 0:e.name)||""}})),r.a.createElement(l.a,null,r.a.createElement(E,{marginRight:1,component:ne.a,onClick:function(){if(b){var e=Object(c.a)({},b,{elements:o.recipe});j(Object(x.g)(e))}}}),r.a.createElement(E,{component:te.a,onClick:function(){var e=Object.fromEntries(f.b.map((function(e){return[e,0]})));g(e)}}))),r.a.createElement(l.d,{justifyContent:"space-between"},f.b.map((function(e){return r.a.createElement(re,{name:e})}))),r.a.createElement(l.d,{justifyContent:"space-around"},r.a.createElement(ce,{name:"\u0394\u03a3 I",value:p.ion_balance}),r.a.createElement(ce,{name:"EC",value:p.EC}),r.a.createElement(ce,{name:"%NH4",value:p["%NH4"]}),r.a.createElement(ce,{name:"N:K",value:p["N:K"]}),r.a.createElement(ce,{name:"K:Ca",value:p["K:Ca"]}),r.a.createElement(ce,{name:"Ca:Mg",value:p["Ca:Mg"]}))))};function ie(e){var t=e.fertilizers,n=Object(h.d)(Object(_.a)(q.j)).accuracy;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("li",{key:e.id},Object(v.d)(e.weight,Object(v.a)(n)),"\u0433 ",e.id)})))}var oe=n(18);function ue(){var e=Object(h.d)((function(e){return e.calculator})).result,t=Object(h.d)(Object(_.a)(q.j)).solution_volume,n=((null===e||void 0===e?void 0:e.fertilizers)||[]).map((function(e){return Object(c.a)({},e)}));return Object(ee.b)(n,t)}function me(){var e=Object(h.d)((function(e){return e.calculator})),t=e.fertilizers,n=e.result,a=((null===n||void 0===n?void 0:n.fertilizers)||[]).map((function(e){return Object(c.a)({},e)})),r=Object(v.f)(a,"id");return Object(v.b)(function(e){var t,n={},a=Object(o.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value,c=Object(m.b)(r);c.elements.NO3?n.A=[].concat(Object(oe.a)(n.A||[]),[r]):c.elements.S||c.elements.P?n.B=[].concat(Object(oe.a)(n.B||[]),[r]):n.C=[].concat(Object(oe.a)(n.C||[]),[r])}}catch(l){a.e(l)}finally{a.f()}return n}(t)).sort((function(e,t){return Object(d.a)(e,1)[0]>Object(d.a)(t,1)[0]?1:-1})).map((function(e){var t=Object(d.a)(e,2);return[t[0],t[1].map((function(e){return r[e.id]})).filter((function(e){return e}))]}))}function fe(e){var t=Object(h.d)(Object(_.a)(q.j)),n=t.solution_concentration,a=t.dilution_enabled,c=t.dilution_volume,i=t.dilution_concentration,u=me(),m=ue();if(!a)return null;m=Object(v.d)(i*m/n);var f=null;return f=function(e,t){var n,a=[],r=Object(o.a)(t);try{for(r.s();!(n=r.n()).done;){var c=n.value;a.push({id:c.id,volume:Object(v.d)(e.volume/c.concentration*e.concentration,2)})}}catch(l){r.e(l)}finally{r.f()}return a}({id:"Total",volume:c,concentration:i},u.map((function(e){return{id:Object(d.a)(e,1)[0],concentration:n}}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(l.d,{flexDirection:"column",width:"75%"},r.a.createElement(l.e,{fontSize:2},"\u0420\u0430\u0437\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),r.a.createElement("ul",null,f.map((function(e){return r.a.createElement("li",null,"\u0420\u0430\u0441\u0442\u0432\u043e\u0440 ",e.id," - ",e.volume,"\u043b")})),r.a.createElement("li",null,"\u0414\u043e\u043b\u0438\u0442\u044c \u0434\u043e ",c,"\u043b"),r.a.createElement("li",null,r.a.createElement("b",null,"TDS:")," ",m," ppm; ",r.a.createElement("b",null,"EC:")," ",Object(ee.d)(m,1)," \u043c\u0421\u043c/\u0441\u043c"))))}function de(){var e=Object(X.a)(["\n  @media screen and (min-width: 800px) {\n    width: 75%;\n  }\n"]);return de=function(){return e},e}var se=Z.a.ul(de());var be=function(){var e=Object(h.d)((function(e){return e.calculator})).result,t=Object(h.d)(Object(_.a)(q.j)).solution_volume,n=ue(),a=me(),c=(null===e||void 0===e?void 0:e.score)||0,i=(null===e||void 0===e?void 0:e.elements)||Object(ee.c)(),o=(null===e||void 0===e?void 0:e.deltaElements)||Object(ee.c)(),u=Object(ee.a)(i);return r.a.createElement(l.c,null,r.a.createElement(l.d,{alignItems:"center",flexDirection:"column"},r.a.createElement(l.d,null,i&&f.b.map((function(e){return r.a.createElement(j,{key:e,name:e,value:i[e],delta:o[e]})}))),r.a.createElement(l.d,{justifyContent:"space-around"},r.a.createElement(ce,{name:"\u0394\u03a3 I",value:u.ion_balance}),r.a.createElement(ce,{name:"EC",value:u.EC}),r.a.createElement(ce,{name:"%NH4",value:u["%NH4"]}),r.a.createElement(ce,{name:"N:K",value:u["N:K"]}),r.a.createElement(ce,{name:"K:Ca",value:u["K:Ca"]}),r.a.createElement(ce,{name:"Ca:Mg",value:u["Ca:Mg"]})),r.a.createElement(l.e,{fontSize:2},"\u041e\u0446\u0435\u043d\u043a\u0430: ",function(e){var t="\u041d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442";return e>=95&&(t="\u0418\u0434\u0435\u0430\u043b\u044c\u043d\u043e"),e>=90&&e<95&&(t="\u041e\u0442\u043b\u0438\u0447\u043d\u043e"),e>=85&&e<90&&(t="\u041e\u0447\u0435\u043d\u044c \u0445\u043e\u0440\u043e\u0448\u043e"),e>=80&&e<85&&(t="\u0425\u043e\u0440\u043e\u0448\u043e"),e>=70&&e<80&&(t="\u0421\u0440\u0435\u0434\u043d\u0435"),e>=60&&e<70&&(t="\u041f\u043b\u043e\u0445\u043e"),e>=40&&e<60&&(t="\u0423\u0436\u0430\u0441\u043d\u043e"),t}(c)),r.a.createElement(l.f,{fontSize:6},"".concat(c||0,"%")),r.a.createElement(se,null,r.a.createElement("li",null,t,"\u043b \u0432\u043e\u0434\u044b"),a.map((function(e){var t=Object(d.a)(e,2),n=t[0],a=t[1];return r.a.createElement("li",null,r.a.createElement("b",null," \u0420\u0430\u0441\u0442\u0432\u043e\u0440 ",n," "),r.a.createElement("ul",null,r.a.createElement(ie,{fertilizers:a})))})),r.a.createElement("li",{title:"\u0418\u043b\u0438 \u043c\u0438\u043d\u0435\u0440\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f, \u0432 \u043c\u0433/\u043b"},r.a.createElement("b",null,"TDS:")," ",n," ppm; ",r.a.createElement("b",null,"EC:")," ",Object(ee.d)(n,1)," \u043c\u0421\u043c/\u0441\u043c")),r.a.createElement(fe,null),(null===e||void 0===e?void 0:e.stats)&&r.a.createElement(l.f,null,"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432: ",null===e||void 0===e?void 0:e.stats.count," \u0412\u0440\u0435\u043c\u044f: ",null===e||void 0===e?void 0:e.stats.time," \u0441\u0435\u043a")))},Ee=n(132),ve=n(300),je=n(406),pe=n.n(je),Oe=n(434),ge=n.n(Oe),he=pe.a,xe=ge.a,ye=["id"].concat(Object(oe.a)(f.b));function Ce(e){var t=Object(a.createRef)(),n=Object(h.c)(),l=Object(a.useState)({width:0,height:0}),i=Object(d.a)(l,2),u=i[0],f=i[1];Object(a.useEffect)((function(){var e,n,a={width:(null===(e=t.current)||void 0===e?void 0:e.offsetWidth)||0,height:(null===(n=t.current)||void 0===n?void 0:n.offsetHeight)||0};u.width!==a.width&&f(a)}),[t,u.width]);var b=function(e){var t,a;console.log(e.target.value,null===(t=e.target.files)||void 0===t?void 0:t[0]);var r=null===(a=e.target.files)||void 0===a?void 0:a[0];if(!r)return r;var c=new FileReader;c.onload=function(){console.log(c.result),function(e){var t=he(e,{columns:ye});isNaN(parseInt(t[0].P))&&t.splice(0,1);var a,r=Object(o.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value,l=c.id,i=Object(s.a)(c,["id"]),u=Object(m.a)(l,i);n(Object(x.d)(u))}}catch(f){r.e(f)}finally{r.f()}}(c.result)},c.readAsText(r)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{sx:{position:"relative"},ref:t,component:ve.a},r.a.createElement("input",{type:"file",accept:"text/csv, .csv",onChange:function(e){return b(e)},style:Object(c.a)({top:0,left:0,position:"absolute",opacity:0},u)})))}var we=n(301),ze=function(){var e=document.createElement("a");return document.body.appendChild(e),e.setAttribute("style","display: none"),function(t,n){var a=new Blob([t],{type:"octet/stream"}),r=window.URL.createObjectURL(a);e.href=r,e.download=n,e.click(),window.URL.revokeObjectURL(r)}}();function ke(e){var t=Object(h.d)((function(e){return e.calculator})).fertilizers;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{onClick:function(){var e=t.map((function(e){return Object(m.b)(e,!1)})).map((function(e){var t=f.b.map((function(t){return e.elements[t]}));return[e.id].concat(Object(oe.a)(t))})),n=xe(e,{columns:["\u0423\u0434\u043e\u0431\u0440\u0435\u043d\u0438\u0435"].concat(Object(oe.a)(f.b)),header:!0});ze(n,"\u0423\u0434\u043e\u0431\u0440\u0435\u043d\u0438\u044f.csv")},component:we.a}))}var Ie=n(50);function Se(e){var t=Object(h.d)((function(e){return e.calculator})).recipes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{onClick:function(){var e=t.map((function(e){var t=f.b.map((function(t){return e.elements[t]}));return[e.name].concat(Object(oe.a)(t))})),n=xe(e,{columns:["\u041f\u0440\u043e\u0444\u0438\u043b\u044c"].concat(Object(oe.a)(f.b)),header:!0});ze(n,"\u041f\u0440\u043e\u0444\u0438\u043b\u0438.csv")},component:we.a}))}var _e=["id"].concat(Object(oe.a)(f.b));function De(e){var t=Object(a.createRef)(),n=Object(h.c)(),l=Object(a.useState)({width:0,height:0}),i=Object(d.a)(l,2),u=i[0],m=i[1];Object(a.useEffect)((function(){var e,n,a={width:(null===(e=t.current)||void 0===e?void 0:e.offsetWidth)||0,height:(null===(n=t.current)||void 0===n?void 0:n.offsetHeight)||0};u.width!==a.width&&m(a)}),[t,u.width]);var f=function(e){var t,a;console.log(e.target.value,null===(t=e.target.files)||void 0===t?void 0:t[0]);var r=null===(a=e.target.files)||void 0===a?void 0:a[0];if(!r)return r;var c=new FileReader;c.onload=function(){console.log(c.result),function(e){var t=he(e,{columns:_e});isNaN(parseInt(t[0].P))&&t.splice(0,1);var a,r=Object(o.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value,l=c.id,i=Object(s.a)(c,["id"]);n(Object(x.g)({name:l,elements:i}))}}catch(u){r.e(u)}finally{r.f()}}(c.result)},c.readAsText(r)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{sx:{position:"relative"},ref:t,component:ve.a},r.a.createElement("input",{type:"file",accept:"text/csv, .csv",onChange:function(e){return f(e)},style:Object(c.a)({top:0,left:0,position:"absolute",opacity:0},u)})))}function Ae(e){return{"@media screen and (max-width: 800px)":e}}var Re={accuracy:.2,solution_volume:1,solution_concentration:100,recipe:Ie.a[0].elements,fertilizers:[],dilution_enabled:!1,dilution_volume:20,dilution_concentration:1},Fe=Object(Ee.a)({form:q.j,initialValues:Re})((function(e){var t=e.handleSubmit,n=Object(h.c)();return r.a.createElement("form",{onSubmit:t((function(){n(Object(x.b)())}))},r.a.createElement(l.d,{sx:Object(c.a)({flexDirection:"row"},Ae({flexDirection:"column-reverse"}))},r.a.createElement(l.a,{flex:1,sx:Object(c.a)({marginRight:2},Ae({marginRight:0}))},r.a.createElement(N,null)),r.a.createElement(l.d,{flexDirection:"column",flex:1},r.a.createElement(l.a,{flex:1,marginBottom:2},r.a.createElement(le,null)),r.a.createElement(l.a,{flex:1},r.a.createElement(be,null)),r.a.createElement(l.a,{flex:1},r.a.createElement(Q,null)),r.a.createElement(l.c,null,r.a.createElement(l.e,{fontSize:2},"\u0418\u043c\u043f\u043e\u0440\u0442/\u042d\u043a\u0441\u043f\u043e\u0440\u0442"),r.a.createElement(l.d,{flexDirection:"column",p:3},r.a.createElement(l.d,{alignItems:"center",paddingBottom:2,justifyContent:"space-between",flexWrap:"wrap"},r.a.createElement(l.f,null,"\u0423\u0434\u043e\u0431\u0440\u0435\u043d\u0438\u044f"),r.a.createElement(l.a,{sx:{"&>*":{marginLeft:1}}},r.a.createElement(Ce,null),r.a.createElement(ke,null),r.a.createElement(E,{component:i.a,onClick:function(){return n(Object(x.f)())}}))),r.a.createElement(l.d,{alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},r.a.createElement(l.f,null,"\u0420\u0435\u0446\u0435\u043f\u0442\u044b"),r.a.createElement(l.a,{sx:{"&>*":{marginLeft:1}}},r.a.createElement(De,null),r.a.createElement(Se,null),r.a.createElement(E,{component:i.a,onClick:function(){return n(Object(x.i)())}}))))))))})),Ne=n(462),We=n(85);t.default=function(){return r.a.createElement(l.d,{sx:{justifyContent:"center"}},r.a.createElement(l.a,{width:"936px"},r.a.createElement(l.d,{sx:{justifyContent:"space-between","@media screen and (max-width: 1350px)":{justifyContent:"flex-start"}}},r.a.createElement(l.e,null,"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 \u0443\u0434\u043e\u0431\u0440\u0435\u043d\u0438\u0439"),r.a.createElement(We.b,{to:"/help"},r.a.createElement(E,{padding:1,marginLeft:3,size:30,component:Ne.a}))),r.a.createElement(Fe,null)))}}}]);
//# sourceMappingURL=5.48af3769.chunk.js.map